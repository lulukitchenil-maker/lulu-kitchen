(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var uu={exports:{}},xi={},du={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),sf=Symbol.for("react.portal"),of=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),ff=Symbol.for("react.memo"),pf=Symbol.for("react.lazy"),Al=Symbol.iterator;function mf(t){return t===null||typeof t!="object"?null:(t=Al&&t[Al]||t["@@iterator"],typeof t=="function"?t:null)}var hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fu=Object.assign,pu={};function tr(t,e,n){this.props=t,this.context=e,this.refs=pu,this.updater=n||hu}tr.prototype.isReactComponent={};tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mu(){}mu.prototype=tr.prototype;function Ea(t,e,n){this.props=t,this.context=e,this.refs=pu,this.updater=n||hu}var Ca=Ea.prototype=new mu;Ca.constructor=Ea;fu(Ca,tr.prototype);Ca.isPureReactComponent=!0;var Rl=Array.isArray,gu=Object.prototype.hasOwnProperty,Ta={current:null},yu={key:!0,ref:!0,__self:!0,__source:!0};function xu(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)gu.call(e,r)&&!yu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ts,type:t,key:i,ref:a,props:s,_owner:Ta.current}}function gf(t,e){return{$$typeof:ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oa(t){return typeof t=="object"&&t!==null&&t.$$typeof===ts}function yf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Il=/\/+/g;function zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yf(""+t.key):e.toString(36)}function Ps(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ts:case sf:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+zi(a,0):r,Rl(s)?(n="",t!=null&&(n=t.replace(Il,"$&/")+"/"),Ps(s,e,n,"",function(u){return u})):s!=null&&(Oa(s)&&(s=gf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Il,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Rl(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+zi(i,l);a+=Ps(i,e,n,c,s)}else if(c=mf(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+zi(i,l++),a+=Ps(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function us(t,e,n){if(t==null)return t;var r=[],s=0;return Ps(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},As={transition:null},vf={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:As,ReactCurrentOwner:Ta};function vu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:us,forEach:function(t,e,n){us(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return us(t,function(){e++}),e},toArray:function(t){return us(t,function(e){return e})||[]},only:function(t){if(!Oa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=tr;L.Fragment=of;L.Profiler=lf;L.PureComponent=Ea;L.StrictMode=af;L.Suspense=hf;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf;L.act=vu;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fu({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ta.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gu.call(e,c)&&!yu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ts,type:t.type,key:s,ref:i,props:r,_owner:a}};L.createContext=function(t){return t={$$typeof:uf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cf,_context:t},t.Consumer=t};L.createElement=xu;L.createFactory=function(t){var e=xu.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:df,render:t}};L.isValidElement=Oa;L.lazy=function(t){return{$$typeof:pf,_payload:{_status:-1,_result:t},_init:xf}};L.memo=function(t,e){return{$$typeof:ff,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=As.transition;As.transition={};try{t()}finally{As.transition=e}};L.unstable_act=vu;L.useCallback=function(t,e){return xe.current.useCallback(t,e)};L.useContext=function(t){return xe.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};L.useEffect=function(t,e){return xe.current.useEffect(t,e)};L.useId=function(){return xe.current.useId()};L.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return xe.current.useMemo(t,e)};L.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};L.useRef=function(t){return xe.current.useRef(t)};L.useState=function(t){return xe.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return xe.current.useTransition()};L.version="18.3.1";du.exports=L;var E=du.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=E,bf=Symbol.for("react.element"),_f=Symbol.for("react.fragment"),jf=Object.prototype.hasOwnProperty,kf=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nf={key:!0,ref:!0,__self:!0,__source:!0};function wu(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)jf.call(e,r)&&!Nf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bf,type:t,key:i,ref:a,props:s,_owner:kf.current}}xi.Fragment=_f;xi.jsx=wu;xi.jsxs=wu;uu.exports=xi;var o=uu.exports,bu={exports:{}},Ae={},_u={exports:{}},ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,P){var R=_.length;_.push(P);e:for(;0<R;){var B=R-1>>>1,Y=_[B];if(0<s(Y,P))_[B]=P,_[R]=Y,R=B;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],R=_.pop();if(R!==P){_[0]=R;e:for(var B=0,Y=_.length,gn=Y>>>1;B<gn;){var We=2*(B+1)-1,yn=_[We],Kt=We+1,cs=_[Kt];if(0>s(yn,R))Kt<Y&&0>s(cs,yn)?(_[B]=cs,_[Kt]=R,B=Kt):(_[B]=yn,_[We]=R,B=We);else if(Kt<Y&&0>s(cs,R))_[B]=cs,_[Kt]=R,B=Kt;else break e}}return P}function s(_,P){var R=_.sortIndex-P.sortIndex;return R!==0?R:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,v=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=_)r(u),P.sortIndex=P.expirationTime,e(c,P);else break;P=n(u)}}function b(_){if(y=!1,g(_),!w)if(n(c)!==null)w=!0,$e(j);else{var P=n(u);P!==null&&or(b,P.startTime-_)}}function j(_,P){w=!1,y&&(y=!1,m(C),C=-1),v=!0;var R=f;try{for(g(P),h=n(c);h!==null&&(!(h.expirationTime>P)||_&&!me());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var Y=B(h.expirationTime<=P);P=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),g(P)}else r(c);h=n(c)}if(h!==null)var gn=!0;else{var We=n(u);We!==null&&or(b,We.startTime-P),gn=!1}return gn}finally{h=null,f=R,v=!1}}var k=!1,S=null,C=-1,$=5,O=-1;function me(){return!(t.unstable_now()-O<$)}function it(){if(S!==null){var _=t.unstable_now();O=_;var P=!0;try{P=S(!0,_)}finally{P?wt():(k=!1,S=null)}}else k=!1}var wt;if(typeof p=="function")wt=function(){p(it)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Ie=bt.port2;bt.port1.onmessage=it,wt=function(){Ie.postMessage(null)}}else wt=function(){x(it,0)};function $e(_){S=_,k||(k=!0,wt())}function or(_,P){C=x(function(){_(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,$e(j))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var R=f;f=P;try{return _()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=f;f=_;try{return P()}finally{f=R}},t.unstable_scheduleCallback=function(_,P,R){var B=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,_){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,_={id:d++,callback:P,priorityLevel:_,startTime:R,expirationTime:Y,sortIndex:-1},R>B?(_.sortIndex=R,e(u,_),n(c)===null&&_===n(u)&&(y?(m(C),C=-1):y=!0,or(b,R-B))):(_.sortIndex=Y,e(c,_),w||v||(w=!0,$e(j))),_},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(_){var P=f;return function(){var R=f;f=P;try{return _.apply(this,arguments)}finally{f=R}}}})(ju);_u.exports=ju;var Sf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=E,Pe=Sf;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ku=new Set,Ir={};function fn(t,e){Kn(t,e),Kn(t+"Capture",e)}function Kn(t,e){for(Ir[t]=e,t=0;t<e.length;t++)ku.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,Cf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$l={},Ll={};function Tf(t){return jo.call(Ll,t)?!0:jo.call($l,t)?!1:Cf.test(t)?Ll[t]=!0:($l[t]=!0,!1)}function Of(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pf(t,e,n,r){if(e===null||typeof e>"u"||Of(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pa=/[\-:]([a-z])/g;function Aa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pa,Aa);ue[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pa,Aa);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pa,Aa);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ra(t,e,n,r){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pf(e,n,s,r)&&(n=null),r||s===null?Tf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xt=Ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),En=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),Ia=Symbol.for("react.strict_mode"),ko=Symbol.for("react.profiler"),Nu=Symbol.for("react.provider"),Su=Symbol.for("react.context"),$a=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),La=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Eu=Symbol.for("react.offscreen"),Ul=Symbol.iterator;function ar(t){return t===null||typeof t!="object"?null:(t=Ul&&t[Ul]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Bi;function gr(t){if(Bi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bi=e&&e[1]||""}return`
`+Bi+t}var Wi=!1;function Hi(t,e){if(!t||Wi)return"";Wi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Wi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gr(t):""}function Af(t){switch(t.tag){case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return t=Hi(t.type,!1),t;case 11:return t=Hi(t.type.render,!1),t;case 1:return t=Hi(t.type,!0),t;default:return""}}function Eo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cn:return"Fragment";case En:return"Portal";case ko:return"Profiler";case Ia:return"StrictMode";case No:return"Suspense";case So:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Su:return(t.displayName||"Context")+".Consumer";case Nu:return(t._context.displayName||"Context")+".Provider";case $a:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case La:return e=t.displayName||null,e!==null?e:Eo(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return Eo(t(e))}catch{}}return null}function Rf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(e);case 8:return e===Ia?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function If(t){var e=Cu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hs(t){t._valueTracker||(t._valueTracker=If(t))}function Tu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Co(t,e){var n=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ou(t,e){e=e.checked,e!=null&&Ra(t,"checked",e,!1)}function To(t,e){Ou(t,e);var n=zt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oo(t,e.type,zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ml(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oo(t,e,n){(e!=="number"||Ws(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yr=Array.isArray;function Mn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Po(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(yr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zt(n)}}function Pu(t,e){var n=zt(e.value),r=zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Au(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Au(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fs,Ru=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $r(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$f=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(t){$f.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),br[e]=br[t]})});function Iu(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||br.hasOwnProperty(t)&&br[t]?(""+e).trim():e+"px"}function $u(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Iu(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Lf=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(t,e){if(e){if(Lf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Io(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=null;function Ua(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lo=null,Fn=null,zn=null;function Bl(t){if(t=ss(t)){if(typeof Lo!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ji(e),Lo(t.stateNode,t.type,e))}}function Lu(t){Fn?zn?zn.push(t):zn=[t]:Fn=t}function Uu(){if(Fn){var t=Fn,e=zn;if(zn=Fn=null,Bl(t),e)for(t=0;t<e.length;t++)Bl(e[t])}}function Du(t,e){return t(e)}function Mu(){}var qi=!1;function Fu(t,e,n){if(qi)return t(e,n);qi=!0;try{return Du(t,e,n)}finally{qi=!1,(Fn!==null||zn!==null)&&(Mu(),Uu())}}function Lr(t,e){var n=t.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Uo=!1;if(ft)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Uo=!1}function Uf(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var _r=!1,Hs=null,qs=!1,Do=null,Df={onError:function(t){_r=!0,Hs=t}};function Mf(t,e,n,r,s,i,a,l,c){_r=!1,Hs=null,Uf.apply(Df,arguments)}function Ff(t,e,n,r,s,i,a,l,c){if(Mf.apply(this,arguments),_r){if(_r){var u=Hs;_r=!1,Hs=null}else throw Error(N(198));qs||(qs=!0,Do=u)}}function pn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wl(t){if(pn(t)!==t)throw Error(N(188))}function zf(t){var e=t.alternate;if(!e){if(e=pn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wl(s),t;if(i===r)return Wl(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Bu(t){return t=zf(t),t!==null?Wu(t):null}function Wu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wu(t);if(e!==null)return e;t=t.sibling}return null}var Hu=Pe.unstable_scheduleCallback,Hl=Pe.unstable_cancelCallback,Bf=Pe.unstable_shouldYield,Wf=Pe.unstable_requestPaint,X=Pe.unstable_now,Hf=Pe.unstable_getCurrentPriorityLevel,Da=Pe.unstable_ImmediatePriority,qu=Pe.unstable_UserBlockingPriority,Vs=Pe.unstable_NormalPriority,qf=Pe.unstable_LowPriority,Vu=Pe.unstable_IdlePriority,vi=null,rt=null;function Vf(t){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Jf,Kf=Math.log,Gf=Math.LN2;function Jf(t){return t>>>=0,t===0?32:31-(Kf(t)/Gf|0)|0}var ps=64,ms=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ks(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=xr(l):(i&=a,i!==0&&(r=xr(i)))}else a=n&~s,a!==0?r=xr(a):i!==0&&(r=xr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qe(e),s=1<<n,r|=t[n],e&=~s;return r}function Qf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Qe(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Qf(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Mo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ku(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function Vi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=n}function Xf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ma(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var M=0;function Gu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ju,Fa,Qu,Yu,Xu,Fo=!1,gs=[],At=null,Rt=null,It=null,Ur=new Map,Dr=new Map,Et=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(t,e){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ur.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(e.pointerId)}}function cr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ss(e),e!==null&&Fa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ep(t,e,n,r,s){switch(e){case"focusin":return At=cr(At,t,e,n,r,s),!0;case"dragenter":return Rt=cr(Rt,t,e,n,r,s),!0;case"mouseover":return It=cr(It,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ur.set(i,cr(Ur.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dr.set(i,cr(Dr.get(i)||null,t,e,n,r,s)),!0}return!1}function Zu(t){var e=tn(t.target);if(e!==null){var n=pn(e);if(n!==null){if(e=n.tag,e===13){if(e=zu(n),e!==null){t.blockedOn=e,Xu(t.priority,function(){Qu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$o=r,n.target.dispatchEvent(r),$o=null}else return e=ss(n),e!==null&&Fa(e),t.blockedOn=n,!1;e.shift()}return!0}function Vl(t,e,n){Rs(t)&&n.delete(e)}function tp(){Fo=!1,At!==null&&Rs(At)&&(At=null),Rt!==null&&Rs(Rt)&&(Rt=null),It!==null&&Rs(It)&&(It=null),Ur.forEach(Vl),Dr.forEach(Vl)}function ur(t,e){t.blockedOn===e&&(t.blockedOn=null,Fo||(Fo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,tp)))}function Mr(t){function e(s){return ur(s,t)}if(0<gs.length){ur(gs[0],t);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(At!==null&&ur(At,t),Rt!==null&&ur(Rt,t),It!==null&&ur(It,t),Ur.forEach(e),Dr.forEach(e),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Zu(n),n.blockedOn===null&&Et.shift()}var Bn=xt.ReactCurrentBatchConfig,Gs=!0;function np(t,e,n,r){var s=M,i=Bn.transition;Bn.transition=null;try{M=1,za(t,e,n,r)}finally{M=s,Bn.transition=i}}function rp(t,e,n,r){var s=M,i=Bn.transition;Bn.transition=null;try{M=4,za(t,e,n,r)}finally{M=s,Bn.transition=i}}function za(t,e,n,r){if(Gs){var s=zo(t,e,n,r);if(s===null)no(t,e,r,Js,n),ql(t,r);else if(ep(s,t,e,n,r))r.stopPropagation();else if(ql(t,r),e&4&&-1<Zf.indexOf(t)){for(;s!==null;){var i=ss(s);if(i!==null&&Ju(i),i=zo(t,e,n,r),i===null&&no(t,e,r,Js,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else no(t,e,r,null,n)}}var Js=null;function zo(t,e,n,r){if(Js=null,t=Ua(r),t=tn(t),t!==null)if(e=pn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zu(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hf()){case Da:return 1;case qu:return 4;case Vs:case qf:return 16;case Vu:return 536870912;default:return 16}default:return 16}}var Ot=null,Ba=null,Is=null;function td(){if(Is)return Is;var t,e=Ba,n=e.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Is=s.slice(t,1<r?1-r:void 0)}function $s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ys(){return!0}function Kl(){return!1}function Re(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ys:Kl,this.isPropagationStopped=Kl,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),e}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Re(nr),rs=J({},nr,{view:0,detail:0}),sp=Re(rs),Ki,Gi,dr,wi=J({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(Ki=t.screenX-dr.screenX,Gi=t.screenY-dr.screenY):Gi=Ki=0,dr=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Gi}}),Gl=Re(wi),ip=J({},wi,{dataTransfer:0}),op=Re(ip),ap=J({},rs,{relatedTarget:0}),Ji=Re(ap),lp=J({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),cp=Re(lp),up=J({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dp=Re(up),hp=J({},nr,{data:0}),Jl=Re(hp),fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mp[t])?!!e[t]:!1}function Ha(){return gp}var yp=J({},rs,{key:function(t){if(t.key){var e=fp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xp=Re(yp),vp=J({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ql=Re(vp),wp=J({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),bp=Re(wp),_p=J({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jp=Re(_p),kp=J({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=Re(kp),Sp=[9,13,27,32],qa=ft&&"CompositionEvent"in window,jr=null;ft&&"documentMode"in document&&(jr=document.documentMode);var Ep=ft&&"TextEvent"in window&&!jr,nd=ft&&(!qa||jr&&8<jr&&11>=jr),Yl=" ",Xl=!1;function rd(t,e){switch(t){case"keyup":return Sp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function Cp(t,e){switch(t){case"compositionend":return sd(e);case"keypress":return e.which!==32?null:(Xl=!0,Yl);case"textInput":return t=e.data,t===Yl&&Xl?null:t;default:return null}}function Tp(t,e){if(Tn)return t==="compositionend"||!qa&&rd(t,e)?(t=td(),Is=Ba=Ot=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nd&&e.locale!=="ko"?null:e.data;default:return null}}var Op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Op[t.type]:e==="textarea"}function id(t,e,n,r){Lu(r),e=Qs(e,"onChange"),0<e.length&&(n=new Wa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kr=null,Fr=null;function Pp(t){gd(t,0)}function bi(t){var e=An(t);if(Tu(e))return t}function Ap(t,e){if(t==="change")return e}var od=!1;if(ft){var Qi;if(ft){var Yi="oninput"in document;if(!Yi){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Yi=typeof ec.oninput=="function"}Qi=Yi}else Qi=!1;od=Qi&&(!document.documentMode||9<document.documentMode)}function tc(){kr&&(kr.detachEvent("onpropertychange",ad),Fr=kr=null)}function ad(t){if(t.propertyName==="value"&&bi(Fr)){var e=[];id(e,Fr,t,Ua(t)),Fu(Pp,e)}}function Rp(t,e,n){t==="focusin"?(tc(),kr=e,Fr=n,kr.attachEvent("onpropertychange",ad)):t==="focusout"&&tc()}function Ip(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bi(Fr)}function $p(t,e){if(t==="click")return bi(e)}function Lp(t,e){if(t==="input"||t==="change")return bi(e)}function Up(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:Up;function zr(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jo.call(e,s)||!Xe(t[s],e[s]))return!1}return!0}function nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rc(t,e){var n=nc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nc(n)}}function ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cd(){for(var t=window,e=Ws();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ws(t.document)}return e}function Va(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dp(t){var e=cd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ld(n.ownerDocument.documentElement,n)){if(r!==null&&Va(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=rc(n,i);var a=rc(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mp=ft&&"documentMode"in document&&11>=document.documentMode,On=null,Bo=null,Nr=null,Wo=!1;function sc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wo||On==null||On!==Ws(r)||(r=On,"selectionStart"in r&&Va(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&zr(Nr,r)||(Nr=r,r=Qs(Bo,"onSelect"),0<r.length&&(e=new Wa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=On)))}function xs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pn={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Xi={},ud={};ft&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function _i(t){if(Xi[t])return Xi[t];if(!Pn[t])return t;var e=Pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ud)return Xi[t]=e[n];return t}var dd=_i("animationend"),hd=_i("animationiteration"),fd=_i("animationstart"),pd=_i("transitionend"),md=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(t,e){md.set(t,e),fn(e,[t])}for(var Zi=0;Zi<ic.length;Zi++){var eo=ic[Zi],Fp=eo.toLowerCase(),zp=eo[0].toUpperCase()+eo.slice(1);Wt(Fp,"on"+zp)}Wt(dd,"onAnimationEnd");Wt(hd,"onAnimationIteration");Wt(fd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(pd,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function oc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ff(r,e,void 0,t),t.currentTarget=null}function gd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;oc(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;oc(s,l,u),i=c}}}if(qs)throw t=Do,qs=!1,Do=null,t}function W(t,e){var n=e[Go];n===void 0&&(n=e[Go]=new Set);var r=t+"__bubble";n.has(r)||(yd(e,t,2,!1),n.add(r))}function to(t,e,n){var r=0;e&&(r|=4),yd(n,t,r,e)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[vs]){t[vs]=!0,ku.forEach(function(n){n!=="selectionchange"&&(Bp.has(n)||to(n,!1,t),to(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vs]||(e[vs]=!0,to("selectionchange",!1,e))}}function yd(t,e,n,r){switch(ed(e)){case 1:var s=np;break;case 4:s=rp;break;default:s=za}n=s.bind(null,e,n,t),s=void 0,!Uo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function no(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=tn(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Fu(function(){var u=i,d=Ua(n),h=[];e:{var f=md.get(t);if(f!==void 0){var v=Wa,w=t;switch(t){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":v=xp;break;case"focusin":w="focus",v=Ji;break;case"focusout":w="blur",v=Ji;break;case"beforeblur":case"afterblur":v=Ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bp;break;case dd:case hd:case fd:v=cp;break;case pd:v=jp;break;case"scroll":v=sp;break;case"wheel":v=Np;break;case"copy":case"cut":case"paste":v=dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ql}var y=(e&4)!==0,x=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=Lr(p,m),b!=null&&y.push(Wr(p,b,g)))),x)break;p=p.return}0<y.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==$o&&(w=n.relatedTarget||n.fromElement)&&(tn(w)||w[pt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?tn(w):null,w!==null&&(x=pn(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=Gl,b="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ql,b="onPointerLeave",m="onPointerEnter",p="pointer"),x=v==null?f:An(v),g=w==null?f:An(w),f=new y(b,p+"leave",v,n,d),f.target=x,f.relatedTarget=g,b=null,tn(d)===u&&(y=new y(m,p+"enter",w,n,d),y.target=g,y.relatedTarget=x,b=y),x=b,v&&w)t:{for(y=v,m=w,p=0,g=y;g;g=xn(g))p++;for(g=0,b=m;b;b=xn(b))g++;for(;0<p-g;)y=xn(y),p--;for(;0<g-p;)m=xn(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=xn(y),m=xn(m)}y=null}else y=null;v!==null&&ac(h,f,v,y,!1),w!==null&&x!==null&&ac(h,x,w,y,!0)}}e:{if(f=u?An(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=Ap;else if(Zl(f))if(od)j=Lp;else{j=Ip;var k=Rp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=$p);if(j&&(j=j(t,u))){id(h,j,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Oo(f,"number",f.value)}switch(k=u?An(u):window,t){case"focusin":(Zl(k)||k.contentEditable==="true")&&(On=k,Bo=u,Nr=null);break;case"focusout":Nr=Bo=On=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,sc(h,n,d);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":sc(h,n,d)}var S;if(qa)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tn?rd(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(nd&&n.locale!=="ko"&&(Tn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tn&&(S=td()):(Ot=d,Ba="value"in Ot?Ot.value:Ot.textContent,Tn=!0)),k=Qs(u,C),0<k.length&&(C=new Jl(C,t,null,n,d),h.push({event:C,listeners:k}),S?C.data=S:(S=sd(n),S!==null&&(C.data=S)))),(S=Ep?Cp(t,n):Tp(t,n))&&(u=Qs(u,"onBeforeInput"),0<u.length&&(d=new Jl("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}gd(h,e)})}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lr(t,n),i!=null&&r.unshift(Wr(t,i,s)),i=Lr(t,e),i!=null&&r.push(Wr(t,i,s))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ac(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Lr(n,i),c!=null&&a.unshift(Wr(n,c,l))):s||(c=Lr(n,i),c!=null&&a.push(Wr(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Wp=/\r\n?/g,Hp=/\u0000|\uFFFD/g;function lc(t){return(typeof t=="string"?t:""+t).replace(Wp,`
`).replace(Hp,"")}function ws(t,e,n){if(e=lc(e),lc(t)!==e&&n)throw Error(N(425))}function Ys(){}var Ho=null,qo=null;function Vo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(t){return cc.resolve(null).then(t).catch(Kp)}:Ko;function Kp(t){setTimeout(function(){throw t})}function ro(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Mr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Mr(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rr=Math.random().toString(36).slice(2),nt="__reactFiber$"+rr,Hr="__reactProps$"+rr,pt="__reactContainer$"+rr,Go="__reactEvents$"+rr,Gp="__reactListeners$"+rr,Jp="__reactHandles$"+rr;function tn(t){var e=t[nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pt]||n[nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uc(t);t!==null;){if(n=t[nt])return n;t=uc(t)}return e}t=n,n=t.parentNode}return null}function ss(t){return t=t[nt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ji(t){return t[Hr]||null}var Jo=[],Rn=-1;function Ht(t){return{current:t}}function H(t){0>Rn||(t.current=Jo[Rn],Jo[Rn]=null,Rn--)}function z(t,e){Rn++,Jo[Rn]=t.current,t.current=e}var Bt={},pe=Ht(Bt),ke=Ht(!1),ln=Bt;function Gn(t,e){var n=t.type.contextTypes;if(!n)return Bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function Xs(){H(ke),H(pe)}function dc(t,e,n){if(pe.current!==Bt)throw Error(N(168));z(pe,e),z(ke,n)}function xd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,Rf(t)||"Unknown",s));return J({},n,r)}function Zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,ln=pe.current,z(pe,t),z(ke,ke.current),!0}function hc(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=xd(t,e,ln),r.__reactInternalMemoizedMergedChildContext=t,H(ke),H(pe),z(pe,t)):H(ke),z(ke,n)}var lt=null,ki=!1,so=!1;function vd(t){lt===null?lt=[t]:lt.push(t)}function Qp(t){ki=!0,vd(t)}function qt(){if(!so&&lt!==null){so=!0;var t=0,e=M;try{var n=lt;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lt=null,ki=!1}catch(s){throw lt!==null&&(lt=lt.slice(t+1)),Hu(Da,qt),s}finally{M=e,so=!1}}return null}var In=[],$n=0,ei=null,ti=0,Le=[],Ue=0,cn=null,ct=1,ut="";function Qt(t,e){In[$n++]=ti,In[$n++]=ei,ei=t,ti=e}function wd(t,e,n){Le[Ue++]=ct,Le[Ue++]=ut,Le[Ue++]=cn,cn=t;var r=ct;t=ut;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var i=32-Qe(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ct=1<<32-Qe(e)+s|n<<s|r,ut=i+t}else ct=1<<i|n<<s|r,ut=t}function Ka(t){t.return!==null&&(Qt(t,1),wd(t,1,0))}function Ga(t){for(;t===ei;)ei=In[--$n],In[$n]=null,ti=In[--$n],In[$n]=null;for(;t===cn;)cn=Le[--Ue],Le[Ue]=null,ut=Le[--Ue],Le[Ue]=null,ct=Le[--Ue],Le[Ue]=null}var Oe=null,Te=null,q=!1,Je=null;function bd(t,e){var n=De(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Te=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:ct,overflow:ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=De(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oe=t,Te=null,!0):!1;default:return!1}}function Qo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yo(t){if(q){var e=Te;if(e){var n=e;if(!fc(t,e)){if(Qo(t))throw Error(N(418));e=$t(n.nextSibling);var r=Oe;e&&fc(t,e)?bd(r,n):(t.flags=t.flags&-4097|2,q=!1,Oe=t)}}else{if(Qo(t))throw Error(N(418));t.flags=t.flags&-4097|2,q=!1,Oe=t}}}function pc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function bs(t){if(t!==Oe)return!1;if(!q)return pc(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vo(t.type,t.memoizedProps)),e&&(e=Te)){if(Qo(t))throw _d(),Error(N(418));for(;e;)bd(t,e),e=$t(e.nextSibling)}if(pc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Te=$t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Oe?$t(t.stateNode.nextSibling):null;return!0}function _d(){for(var t=Te;t;)t=$t(t.nextSibling)}function Jn(){Te=Oe=null,q=!1}function Ja(t){Je===null?Je=[t]:Je.push(t)}var Yp=xt.ReactCurrentBatchConfig;function hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function _s(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mc(t){var e=t._init;return e(t._payload)}function jd(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Mt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,b){return p===null||p.tag!==6?(p=ho(g,m.mode,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g,b){var j=g.type;return j===Cn?d(m,p,g.props.children,b,g.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nt&&mc(j)===p.type)?(b=s(p,g.props),b.ref=hr(m,p,g),b.return=m,b):(b=Bs(g.type,g.key,g.props,null,m.mode,b),b.ref=hr(m,p,g),b.return=m,b)}function u(m,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=fo(g,m.mode,b),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,b,j){return p===null||p.tag!==7?(p=an(g,m.mode,b,j),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ho(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return g=Bs(p.type,p.key,p.props,null,m.mode,g),g.ref=hr(m,null,p),g.return=m,g;case En:return p=fo(p,m.mode,g),p.return=m,p;case Nt:var b=p._init;return h(m,b(p._payload),g)}if(yr(p)||ar(p))return p=an(p,m.mode,g,null),p.return=m,p;_s(m,p)}return null}function f(m,p,g,b){var j=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(m,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return g.key===j?c(m,p,g,b):null;case En:return g.key===j?u(m,p,g,b):null;case Nt:return j=g._init,f(m,p,j(g._payload),b)}if(yr(g)||ar(g))return j!==null?null:d(m,p,g,b,null);_s(m,g)}return null}function v(m,p,g,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(p,m,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ds:return m=m.get(b.key===null?g:b.key)||null,c(p,m,b,j);case En:return m=m.get(b.key===null?g:b.key)||null,u(p,m,b,j);case Nt:var k=b._init;return v(m,p,g,k(b._payload),j)}if(yr(b)||ar(b))return m=m.get(g)||null,d(p,m,b,j,null);_s(p,b)}return null}function w(m,p,g,b){for(var j=null,k=null,S=p,C=p=0,$=null;S!==null&&C<g.length;C++){S.index>C?($=S,S=null):$=S.sibling;var O=f(m,S,g[C],b);if(O===null){S===null&&(S=$);break}t&&S&&O.alternate===null&&e(m,S),p=i(O,p,C),k===null?j=O:k.sibling=O,k=O,S=$}if(C===g.length)return n(m,S),q&&Qt(m,C),j;if(S===null){for(;C<g.length;C++)S=h(m,g[C],b),S!==null&&(p=i(S,p,C),k===null?j=S:k.sibling=S,k=S);return q&&Qt(m,C),j}for(S=r(m,S);C<g.length;C++)$=v(S,m,C,g[C],b),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?C:$.key),p=i($,p,C),k===null?j=$:k.sibling=$,k=$);return t&&S.forEach(function(me){return e(m,me)}),q&&Qt(m,C),j}function y(m,p,g,b){var j=ar(g);if(typeof j!="function")throw Error(N(150));if(g=j.call(g),g==null)throw Error(N(151));for(var k=j=null,S=p,C=p=0,$=null,O=g.next();S!==null&&!O.done;C++,O=g.next()){S.index>C?($=S,S=null):$=S.sibling;var me=f(m,S,O.value,b);if(me===null){S===null&&(S=$);break}t&&S&&me.alternate===null&&e(m,S),p=i(me,p,C),k===null?j=me:k.sibling=me,k=me,S=$}if(O.done)return n(m,S),q&&Qt(m,C),j;if(S===null){for(;!O.done;C++,O=g.next())O=h(m,O.value,b),O!==null&&(p=i(O,p,C),k===null?j=O:k.sibling=O,k=O);return q&&Qt(m,C),j}for(S=r(m,S);!O.done;C++,O=g.next())O=v(S,m,C,O.value,b),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?C:O.key),p=i(O,p,C),k===null?j=O:k.sibling=O,k=O);return t&&S.forEach(function(it){return e(m,it)}),q&&Qt(m,C),j}function x(m,p,g,b){if(typeof g=="object"&&g!==null&&g.type===Cn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:e:{for(var j=g.key,k=p;k!==null;){if(k.key===j){if(j=g.type,j===Cn){if(k.tag===7){n(m,k.sibling),p=s(k,g.props.children),p.return=m,m=p;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nt&&mc(j)===k.type){n(m,k.sibling),p=s(k,g.props),p.ref=hr(m,k,g),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}g.type===Cn?(p=an(g.props.children,m.mode,b,g.key),p.return=m,m=p):(b=Bs(g.type,g.key,g.props,null,m.mode,b),b.ref=hr(m,p,g),b.return=m,m=b)}return a(m);case En:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=fo(g,m.mode,b),p.return=m,m=p}return a(m);case Nt:return k=g._init,x(m,p,k(g._payload),b)}if(yr(g))return w(m,p,g,b);if(ar(g))return y(m,p,g,b);_s(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=ho(g,m.mode,b),p.return=m,m=p),a(m)):n(m,p)}return x}var Qn=jd(!0),kd=jd(!1),ni=Ht(null),ri=null,Ln=null,Qa=null;function Ya(){Qa=Ln=ri=null}function Xa(t){var e=ni.current;H(ni),t._currentValue=e}function Xo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wn(t,e){ri=t,Qa=Ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:e,next:null},Ln===null){if(ri===null)throw Error(N(308));Ln=t,ri.dependencies={lanes:0,firstContext:t}}else Ln=Ln.next=t;return e}var nn=null;function Za(t){nn===null?nn=[t]:nn.push(t)}function Nd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Za(e)):(n.next=s.next,s.next=n),e.interleaved=n,mt(t,r)}function mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var St=!1;function el(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mt(t,n)}return s=r.interleaved,s===null?(e.next=e,Za(r)):(e.next=s.next,s.next=e),r.interleaved=e,mt(t,n)}function Ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}function gc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function si(t,e,n,r){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,y=l;switch(f=e,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=J({},h,f);break e;case 2:St=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dn|=a,t.lanes=a,t.memoizedState=h}}function yc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var is={},st=Ht(is),qr=Ht(is),Vr=Ht(is);function rn(t){if(t===is)throw Error(N(174));return t}function tl(t,e){switch(z(Vr,e),z(qr,t),z(st,is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ao(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ao(e,t)}H(st),z(st,e)}function Yn(){H(st),H(qr),H(Vr)}function Ed(t){rn(Vr.current);var e=rn(st.current),n=Ao(e,t.type);e!==n&&(z(qr,t),z(st,n))}function nl(t){qr.current===t&&(H(st),H(qr))}var K=Ht(0);function ii(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var io=[];function rl(){for(var t=0;t<io.length;t++)io[t]._workInProgressVersionPrimary=null;io.length=0}var Us=xt.ReactCurrentDispatcher,oo=xt.ReactCurrentBatchConfig,un=0,G=null,re=null,ie=null,oi=!1,Sr=!1,Kr=0,Xp=0;function de(){throw Error(N(321))}function sl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xe(t[n],e[n]))return!1;return!0}function il(t,e,n,r,s,i){if(un=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Us.current=t===null||t.memoizedState===null?nm:rm,t=n(r,s),Sr){i=0;do{if(Sr=!1,Kr=0,25<=i)throw Error(N(301));i+=1,ie=re=null,e.updateQueue=null,Us.current=sm,t=n(r,s)}while(Sr)}if(Us.current=ai,e=re!==null&&re.next!==null,un=0,ie=re=G=null,oi=!1,e)throw Error(N(300));return t}function ol(){var t=Kr!==0;return Kr=0,t}function et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?G.memoizedState=ie=t:ie=ie.next=t,ie}function Be(){if(re===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ie===null?G.memoizedState:ie.next;if(e!==null)ie=e,re=t;else{if(t===null)throw Error(N(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?G.memoizedState=ie=t:ie=ie.next=t}return ie}function Gr(t,e){return typeof e=="function"?e(t):e}function ao(t){var e=Be(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((un&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,G.lanes|=d,dn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Xe(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,dn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lo(t){var e=Be(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Xe(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Cd(){}function Td(t,e){var n=G,r=Be(),s=e(),i=!Xe(r.memoizedState,s);if(i&&(r.memoizedState=s,je=!0),r=r.queue,al(Ad.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Pd.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(N(349));un&30||Od(n,e,s)}return s}function Od(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pd(t,e,n,r){e.value=n,e.getSnapshot=r,Rd(e)&&Id(t)}function Ad(t,e,n){return n(function(){Rd(e)&&Id(t)})}function Rd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xe(t,n)}catch{return!0}}function Id(t){var e=mt(t,1);e!==null&&Ye(e,t,1,-1)}function xc(t){var e=et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},e.queue=t,t=t.dispatch=tm.bind(null,G,t),[e.memoizedState,t]}function Jr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $d(){return Be().memoizedState}function Ds(t,e,n,r){var s=et();G.flags|=t,s.memoizedState=Jr(1|e,n,void 0,r===void 0?null:r)}function Ni(t,e,n,r){var s=Be();r=r===void 0?null:r;var i=void 0;if(re!==null){var a=re.memoizedState;if(i=a.destroy,r!==null&&sl(r,a.deps)){s.memoizedState=Jr(e,n,i,r);return}}G.flags|=t,s.memoizedState=Jr(1|e,n,i,r)}function vc(t,e){return Ds(8390656,8,t,e)}function al(t,e){return Ni(2048,8,t,e)}function Ld(t,e){return Ni(4,2,t,e)}function Ud(t,e){return Ni(4,4,t,e)}function Dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Md(t,e,n){return n=n!=null?n.concat([t]):null,Ni(4,4,Dd.bind(null,e,t),n)}function ll(){}function Fd(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zd(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bd(t,e,n){return un&21?(Xe(n,e)||(n=Ku(),G.lanes|=n,dn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function Zp(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=oo.transition;oo.transition={};try{t(!1),e()}finally{M=n,oo.transition=r}}function Wd(){return Be().memoizedState}function em(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hd(t))qd(e,n);else if(n=Nd(t,e,n,r),n!==null){var s=ye();Ye(n,t,r,s),Vd(n,e,r)}}function tm(t,e,n){var r=Dt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hd(t))qd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Xe(l,a)){var c=e.interleaved;c===null?(s.next=s,Za(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Nd(t,e,s,r),n!==null&&(s=ye(),Ye(n,t,r,s),Vd(n,e,r))}}function Hd(t){var e=t.alternate;return t===G||e!==null&&e===G}function qd(t,e){Sr=oi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}var ai={readContext:ze,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},nm={readContext:ze,useCallback:function(t,e){return et().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:vc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ds(4194308,4,Dd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ds(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ds(4,2,t,e)},useMemo:function(t,e){var n=et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=em.bind(null,G,t),[r.memoizedState,t]},useRef:function(t){var e=et();return t={current:t},e.memoizedState=t},useState:xc,useDebugValue:ll,useDeferredValue:function(t){return et().memoizedState=t},useTransition:function(){var t=xc(!1),e=t[0];return t=Zp.bind(null,t[1]),et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=G,s=et();if(q){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),oe===null)throw Error(N(349));un&30||Od(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vc(Ad.bind(null,r,i,t),[t]),r.flags|=2048,Jr(9,Pd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=et(),e=oe.identifierPrefix;if(q){var n=ut,r=ct;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Xp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rm={readContext:ze,useCallback:Fd,useContext:ze,useEffect:al,useImperativeHandle:Md,useInsertionEffect:Ld,useLayoutEffect:Ud,useMemo:zd,useReducer:ao,useRef:$d,useState:function(){return ao(Gr)},useDebugValue:ll,useDeferredValue:function(t){var e=Be();return Bd(e,re.memoizedState,t)},useTransition:function(){var t=ao(Gr)[0],e=Be().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1},sm={readContext:ze,useCallback:Fd,useContext:ze,useEffect:al,useImperativeHandle:Md,useInsertionEffect:Ld,useLayoutEffect:Ud,useMemo:zd,useReducer:lo,useRef:$d,useState:function(){return lo(Gr)},useDebugValue:ll,useDeferredValue:function(t){var e=Be();return re===null?e.memoizedState=t:Bd(e,re.memoizedState,t)},useTransition:function(){var t=lo(Gr)[0],e=Be().memoizedState;return[t,e]},useMutableSource:Cd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:J({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Si={isMounted:function(t){return(t=t._reactInternals)?pn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Dt(t),i=ht(r,s);i.payload=e,n!=null&&(i.callback=n),e=Lt(t,i,s),e!==null&&(Ye(e,t,s,r),Ls(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Dt(t),i=ht(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Lt(t,i,s),e!==null&&(Ye(e,t,s,r),Ls(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Dt(t),s=ht(n,r);s.tag=2,e!=null&&(s.callback=e),e=Lt(t,s,r),e!==null&&(Ye(e,t,r,n),Ls(e,t,r))}};function wc(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!zr(n,r)||!zr(s,i):!0}function Kd(t,e,n){var r=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(s=Ne(e)?ln:pe.current,r=e.contextTypes,i=(r=r!=null)?Gn(t,s):Bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Si,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Si.enqueueReplaceState(e,e.state,null)}function ea(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},el(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ze(i):(i=Ne(e)?ln:pe.current,s.context=Gn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Si.enqueueReplaceState(s,s.state,null),si(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xn(t,e){try{var n="",r=e;do n+=Af(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function co(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ta(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var im=typeof WeakMap=="function"?WeakMap:Map;function Gd(t,e,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ci||(ci=!0,da=r),ta(t,e)},n}function Jd(t,e,n){n=ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ta(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ta(t,e),typeof r!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function _c(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new im;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vm.bind(null,t,e,n),e.then(t,t))}function jc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ht(-1,1),e.tag=2,Lt(n,e,1))),n.lanes|=1),t)}var om=xt.ReactCurrentOwner,je=!1;function ge(t,e,n,r){e.child=t===null?kd(e,null,n,r):Qn(e,t.child,n,r)}function Nc(t,e,n,r,s){n=n.render;var i=e.ref;return Wn(e,s),r=il(t,e,n,r,i,s),n=ol(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&n&&Ka(e),e.flags|=1,ge(t,e,r,s),e.child)}function Sc(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Qd(t,e,i,r,s)):(t=Bs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(a,r)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=Mt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Qd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zr(i,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,gt(t,e,s)}return na(t,e,n,r,s)}function Yd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Dn,Ce),Ce|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Dn,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(Dn,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(Dn,Ce),Ce|=r;return ge(t,e,s,n),e.child}function Xd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function na(t,e,n,r,s){var i=Ne(n)?ln:pe.current;return i=Gn(e,i),Wn(e,s),n=il(t,e,n,r,i,s),r=ol(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&r&&Ka(e),e.flags|=1,ge(t,e,n,s),e.child)}function Ec(t,e,n,r,s){if(Ne(n)){var i=!0;Zs(e)}else i=!1;if(Wn(e,s),e.stateNode===null)Ms(t,e),Kd(e,n,r),ea(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ze(u):(u=Ne(n)?ln:pe.current,u=Gn(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&bc(e,a,r,u),St=!1;var f=e.memoizedState;a.state=f,si(e,r,a,s),c=e.memoizedState,l!==r||f!==c||ke.current||St?(typeof d=="function"&&(Zo(e,n,d,r),c=e.memoizedState),(l=St||wc(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Sd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ve(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ze(c):(c=Ne(n)?ln:pe.current,c=Gn(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&bc(e,a,r,c),St=!1,f=e.memoizedState,a.state=f,si(e,r,a,s);var w=e.memoizedState;l!==h||f!==w||ke.current||St?(typeof v=="function"&&(Zo(e,n,v,r),w=e.memoizedState),(u=St||wc(e,n,u,r,f,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ra(t,e,n,r,i,s)}function ra(t,e,n,r,s,i){Xd(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&hc(e,n,!1),gt(t,e,i);r=e.stateNode,om.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Qn(e,t.child,null,i),e.child=Qn(e,null,l,i)):ge(t,e,l,i),e.memoizedState=r.state,s&&hc(e,n,!0),e.child}function Zd(t){var e=t.stateNode;e.pendingContext?dc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dc(t,e.context,!1),tl(t,e.containerInfo)}function Cc(t,e,n,r,s){return Jn(),Ja(s),e.flags|=256,ge(t,e,n,r),e.child}var sa={dehydrated:null,treeContext:null,retryLane:0};function ia(t){return{baseLanes:t,cachePool:null,transitions:null}}function eh(t,e,n){var r=e.pendingProps,s=K.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(K,s&1),t===null)return Yo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ti(a,r,0,null),t=an(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ia(n),e.memoizedState=sa,t):cl(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return am(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Mt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Mt(l,i):(i=an(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?ia(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=sa,r}return i=t.child,t=i.sibling,r=Mt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cl(t,e){return e=Ti({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,n,r){return r!==null&&Ja(r),Qn(e,t.child,null,n),t=cl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function am(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=co(Error(N(422))),js(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ti({mode:"visible",children:r.children},s,0,null),i=an(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qn(e,t.child,null,a),e.child.memoizedState=ia(a),e.memoizedState=sa,i);if(!(e.mode&1))return js(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=co(i,r,void 0),js(t,e,a,r)}if(l=(a&t.childLanes)!==0,je||l){if(r=oe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Ye(r,t,s,-1))}return ml(),r=co(Error(N(421))),js(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=$t(s.nextSibling),Oe=e,q=!0,Je=null,t!==null&&(Le[Ue++]=ct,Le[Ue++]=ut,Le[Ue++]=cn,ct=t.id,ut=t.overflow,cn=e),e=cl(e,r.children),e.flags|=4096,e)}function Tc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xo(t.return,e,n)}function uo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function th(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ge(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tc(t,n,e);else if(t.tag===19)Tc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(K,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ii(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ii(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uo(e,!0,n,null,i);break;case"together":uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Mt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lm(t,e,n){switch(e.tag){case 3:Zd(e),Jn();break;case 5:Ed(e);break;case 1:Ne(e.type)&&Zs(e);break;case 4:tl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(ni,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?eh(t,e,n):(z(K,K.current&1),t=gt(t,e,n),t!==null?t.sibling:null);z(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return th(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Yd(t,e,n)}return gt(t,e,n)}var nh,oa,rh,sh;nh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oa=function(){};rh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rn(st.current);var i=null;switch(n){case"input":s=Co(t,s),r=Co(t,r),i=[];break;case"select":s=J({},s,{value:void 0}),r=J({},r,{value:void 0}),i=[];break;case"textarea":s=Po(t,s),r=Po(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ys)}Ro(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ir.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ir.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&W("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};sh=function(t,e,n,r){n!==r&&(e.flags|=4)};function fr(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cm(t,e,n){var r=e.pendingProps;switch(Ga(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return Ne(e.type)&&Xs(),he(e),null;case 3:return r=e.stateNode,Yn(),H(ke),H(pe),rl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(pa(Je),Je=null))),oa(t,e),he(e),null;case 5:nl(e);var s=rn(Vr.current);if(n=e.type,t!==null&&e.stateNode!=null)rh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return he(e),null}if(t=rn(st.current),bs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nt]=e,r[Hr]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<vr.length;s++)W(vr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":Dl(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":Fl(r,i),W("invalid",r)}Ro(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ws(r.textContent,l,t),s=["children",""+l]):Ir.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&W("scroll",r)}switch(n){case"input":hs(r),Ml(r,i,!0);break;case"textarea":hs(r),zl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ys)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Au(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[nt]=e,t[Hr]=r,nh(t,e,!1,!1),e.stateNode=t;e:{switch(a=Io(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<vr.length;s++)W(vr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":Dl(t,r),s=Co(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=J({},r,{value:void 0}),W("invalid",t);break;case"textarea":Fl(t,r),s=Po(t,r),W("invalid",t);break;default:s=r}Ro(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$u(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ru(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$r(t,c):typeof c=="number"&&$r(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ir.hasOwnProperty(i)?c!=null&&i==="onScroll"&&W("scroll",t):c!=null&&Ra(t,i,c,a))}switch(n){case"input":hs(t),Ml(t,r,!1);break;case"textarea":hs(t),zl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)sh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=rn(Vr.current),rn(st.current),bs(e)){if(r=e.stateNode,n=e.memoizedProps,r[nt]=e,(i=r.nodeValue!==n)&&(t=Oe,t!==null))switch(t.tag){case 3:ws(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=e,e.stateNode=r}return he(e),null;case 13:if(H(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Te!==null&&e.mode&1&&!(e.flags&128))_d(),Jn(),e.flags|=98560,i=!1;else if(i=bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[nt]=e}else Jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Je!==null&&(pa(Je),Je=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?se===0&&(se=3):ml())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Yn(),oa(t,e),t===null&&Br(e.stateNode.containerInfo),he(e),null;case 10:return Xa(e.type._context),he(e),null;case 17:return Ne(e.type)&&Xs(),he(e),null;case 19:if(H(K),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)fr(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ii(t),a!==null){for(e.flags|=128,fr(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Zn&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ii(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!q)return he(e),null}else 2*X()-i.renderingStartTime>Zn&&n!==1073741824&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,n=K.current,z(K,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return pl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ce&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function um(t,e){switch(Ga(e),e.tag){case 1:return Ne(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(),H(ke),H(pe),rl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nl(e),null;case 13:if(H(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(K),null;case 4:return Yn(),null;case 10:return Xa(e.type._context),null;case 22:case 23:return pl(),null;case 24:return null;default:return null}}var ks=!1,fe=!1,dm=typeof WeakSet=="function"?WeakSet:Set,T=null;function Un(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Q(t,e,r)}else n.current=null}function aa(t,e,n){try{n()}catch(r){Q(t,e,r)}}var Oc=!1;function hm(t,e){if(Ho=Gs,t=cd(),Va(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:t,selectionRange:n},Gs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ve(e.type,y),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){Q(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=Oc,Oc=!1,w}function Er(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&aa(e,n,i)}s=s.next}while(s!==r)}}function Ei(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function la(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ih(t){var e=t.alternate;e!==null&&(t.alternate=null,ih(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Hr],delete e[Go],delete e[Gp],delete e[Jp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oh(t){return t.tag===5||t.tag===3||t.tag===4}function Pc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(r!==4&&(t=t.child,t!==null))for(ca(t,e,n),t=t.sibling;t!==null;)ca(t,e,n),t=t.sibling}function ua(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ua(t,e,n),t=t.sibling;t!==null;)ua(t,e,n),t=t.sibling}var le=null,Ke=!1;function _t(t,e,n){for(n=n.child;n!==null;)ah(t,e,n),n=n.sibling}function ah(t,e,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(vi,n)}catch{}switch(n.tag){case 5:fe||Un(n,e);case 6:var r=le,s=Ke;le=null,_t(t,e,n),le=r,Ke=s,le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?ro(t.parentNode,n):t.nodeType===1&&ro(t,n),Mr(t)):ro(le,n.stateNode));break;case 4:r=le,s=Ke,le=n.stateNode.containerInfo,Ke=!0,_t(t,e,n),le=r,Ke=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&aa(n,e,a),s=s.next}while(s!==r)}_t(t,e,n);break;case 1:if(!fe&&(Un(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Q(n,e,l)}_t(t,e,n);break;case 21:_t(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,_t(t,e,n),fe=r):_t(t,e,n);break;default:_t(t,e,n)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dm),e.forEach(function(r){var s=bm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,Ke=!1;break e;case 3:le=l.stateNode.containerInfo,Ke=!0;break e;case 4:le=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(le===null)throw Error(N(160));ah(i,a,s),le=null,Ke=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lh(e,t),e=e.sibling}function lh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),Ze(t),r&4){try{Er(3,t,t.return),Ei(3,t)}catch(y){Q(t,t.return,y)}try{Er(5,t,t.return)}catch(y){Q(t,t.return,y)}}break;case 1:He(e,t),Ze(t),r&512&&n!==null&&Un(n,n.return);break;case 5:if(He(e,t),Ze(t),r&512&&n!==null&&Un(n,n.return),t.flags&32){var s=t.stateNode;try{$r(s,"")}catch(y){Q(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ou(s,i),Io(l,a);var u=Io(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?$u(s,h):d==="dangerouslySetInnerHTML"?Ru(s,h):d==="children"?$r(s,h):Ra(s,d,h,u)}switch(l){case"input":To(s,i);break;case"textarea":Pu(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Mn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Mn(s,!!i.multiple,i.defaultValue,!0):Mn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hr]=i}catch(y){Q(t,t.return,y)}}break;case 6:if(He(e,t),Ze(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Q(t,t.return,y)}}break;case 3:if(He(e,t),Ze(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mr(e.containerInfo)}catch(y){Q(t,t.return,y)}break;case 4:He(e,t),Ze(t);break;case 13:He(e,t),Ze(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hl=X())),r&4&&Ac(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(u=fe)||d,He(e,t),fe=u):He(e,t),Ze(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:Er(4,f,f.return);break;case 1:Un(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Q(r,n,y)}}break;case 5:Un(f,f.return);break;case 22:if(f.memoizedState!==null){Ic(h);continue}}v!==null?(v.return=f,T=v):Ic(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Iu("display",a))}catch(y){Q(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Q(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),Ze(t),r&4&&Ac(t);break;case 21:break;default:He(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($r(s,""),r.flags&=-33);var i=Pc(t);ua(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Pc(t);ca(t,l,a);break;default:throw Error(N(161))}}catch(c){Q(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fm(t,e,n){T=t,ch(t)}function ch(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ks;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||fe;l=ks;var u=fe;if(ks=a,(fe=c)&&!u)for(T=s;T!==null;)a=T,c=a.child,a.tag===22&&a.memoizedState!==null?$c(s):c!==null?(c.return=a,T=c):$c(s);for(;i!==null;)T=i,ch(i),i=i.sibling;T=s,ks=l,fe=u}Rc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Rc(t)}}function Rc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||Ei(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ve(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yc(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yc(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}fe||e.flags&512&&la(e)}catch(f){Q(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Ic(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function $c(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ei(4,e)}catch(c){Q(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Q(e,s,c)}}var i=e.return;try{la(e)}catch(c){Q(e,i,c)}break;case 5:var a=e.return;try{la(e)}catch(c){Q(e,a,c)}}}catch(c){Q(e,e.return,c)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var pm=Math.ceil,li=xt.ReactCurrentDispatcher,ul=xt.ReactCurrentOwner,Me=xt.ReactCurrentBatchConfig,U=0,oe=null,te=null,ce=0,Ce=0,Dn=Ht(0),se=0,Qr=null,dn=0,Ci=0,dl=0,Cr=null,be=null,hl=0,Zn=1/0,ot=null,ci=!1,da=null,Ut=null,Ns=!1,Pt=null,ui=0,Tr=0,ha=null,Fs=-1,zs=0;function ye(){return U&6?X():Fs!==-1?Fs:Fs=X()}function Dt(t){return t.mode&1?U&2&&ce!==0?ce&-ce:Yp.transition!==null?(zs===0&&(zs=Ku()),zs):(t=M,t!==0||(t=window.event,t=t===void 0?16:ed(t.type)),t):1}function Ye(t,e,n,r){if(50<Tr)throw Tr=0,ha=null,Error(N(185));ns(t,n,r),(!(U&2)||t!==oe)&&(t===oe&&(!(U&2)&&(Ci|=n),se===4&&Ct(t,ce)),Se(t,r),n===1&&U===0&&!(e.mode&1)&&(Zn=X()+500,ki&&qt()))}function Se(t,e){var n=t.callbackNode;Yf(t,e);var r=Ks(t,t===oe?ce:0);if(r===0)n!==null&&Hl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hl(n),e===1)t.tag===0?Qp(Lc.bind(null,t)):vd(Lc.bind(null,t)),Vp(function(){!(U&6)&&qt()}),n=null;else{switch(Gu(r)){case 1:n=Da;break;case 4:n=qu;break;case 16:n=Vs;break;case 536870912:n=Vu;break;default:n=Vs}n=yh(n,uh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uh(t,e){if(Fs=-1,zs=0,U&6)throw Error(N(327));var n=t.callbackNode;if(Hn()&&t.callbackNode!==n)return null;var r=Ks(t,t===oe?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=di(t,r);else{e=r;var s=U;U|=2;var i=hh();(oe!==t||ce!==e)&&(ot=null,Zn=X()+500,on(t,e));do try{ym();break}catch(l){dh(t,l)}while(!0);Ya(),li.current=i,U=s,te!==null?e=0:(oe=null,ce=0,e=se)}if(e!==0){if(e===2&&(s=Mo(t),s!==0&&(r=s,e=fa(t,s))),e===1)throw n=Qr,on(t,0),Ct(t,r),Se(t,X()),n;if(e===6)Ct(t,r);else{if(s=t.current.alternate,!(r&30)&&!mm(s)&&(e=di(t,r),e===2&&(i=Mo(t),i!==0&&(r=i,e=fa(t,i))),e===1))throw n=Qr,on(t,0),Ct(t,r),Se(t,X()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Yt(t,be,ot);break;case 3:if(Ct(t,r),(r&130023424)===r&&(e=hl+500-X(),10<e)){if(Ks(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ko(Yt.bind(null,t,be,ot),e);break}Yt(t,be,ot);break;case 4:if(Ct(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Qe(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pm(r/1960))-r,10<r){t.timeoutHandle=Ko(Yt.bind(null,t,be,ot),r);break}Yt(t,be,ot);break;case 5:Yt(t,be,ot);break;default:throw Error(N(329))}}}return Se(t,X()),t.callbackNode===n?uh.bind(null,t):null}function fa(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(on(t,e).flags|=256),t=di(t,e),t!==2&&(e=be,be=n,e!==null&&pa(e)),t}function pa(t){be===null?be=t:be.push.apply(be,t)}function mm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ct(t,e){for(e&=~dl,e&=~Ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qe(e),r=1<<n;t[n]=-1,e&=~r}}function Lc(t){if(U&6)throw Error(N(327));Hn();var e=Ks(t,0);if(!(e&1))return Se(t,X()),null;var n=di(t,e);if(t.tag!==0&&n===2){var r=Mo(t);r!==0&&(e=r,n=fa(t,r))}if(n===1)throw n=Qr,on(t,0),Ct(t,e),Se(t,X()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,be,ot),Se(t,X()),null}function fl(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Zn=X()+500,ki&&qt())}}function hn(t){Pt!==null&&Pt.tag===0&&!(U&6)&&Hn();var e=U;U|=1;var n=Me.transition,r=M;try{if(Me.transition=null,M=1,t)return t()}finally{M=r,Me.transition=n,U=e,!(U&6)&&qt()}}function pl(){Ce=Dn.current,H(Dn)}function on(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qp(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Ga(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:Yn(),H(ke),H(pe),rl();break;case 5:nl(r);break;case 4:Yn();break;case 13:H(K);break;case 19:H(K);break;case 10:Xa(r.type._context);break;case 22:case 23:pl()}n=n.return}if(oe=t,te=t=Mt(t.current,null),ce=Ce=e,se=0,Qr=null,dl=Ci=dn=0,be=Cr=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}nn=null}return t}function dh(t,e){do{var n=te;try{if(Ya(),Us.current=ai,oi){for(var r=G.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oi=!1}if(un=0,ie=re=G=null,Sr=!1,Kr=0,ul.current=null,n===null||n.return===null){se=1,Qr=e,te=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=jc(a);if(v!==null){v.flags&=-257,kc(v,a,l,i,e),v.mode&1&&_c(i,u,e),e=v,c=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(c),e.updateQueue=y}else w.add(c);break e}else{if(!(e&1)){_c(i,u,e),ml();break e}c=Error(N(426))}}else if(q&&l.mode&1){var x=jc(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),kc(x,a,l,i,e),Ja(Xn(c,l));break e}}i=c=Xn(c,l),se!==4&&(se=2),Cr===null?Cr=[i]:Cr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Gd(i,c,e);gc(i,m);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Jd(i,l,e);gc(i,b);break e}}i=i.return}while(i!==null)}ph(n)}catch(j){e=j,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function hh(){var t=li.current;return li.current=ai,t===null?ai:t}function ml(){(se===0||se===3||se===2)&&(se=4),oe===null||!(dn&268435455)&&!(Ci&268435455)||Ct(oe,ce)}function di(t,e){var n=U;U|=2;var r=hh();(oe!==t||ce!==e)&&(ot=null,on(t,e));do try{gm();break}catch(s){dh(t,s)}while(!0);if(Ya(),U=n,li.current=r,te!==null)throw Error(N(261));return oe=null,ce=0,se}function gm(){for(;te!==null;)fh(te)}function ym(){for(;te!==null&&!Bf();)fh(te)}function fh(t){var e=gh(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?ph(t):te=e,ul.current=null}function ph(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=um(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,te=null;return}}else if(n=cm(n,e,Ce),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);se===0&&(se=5)}function Yt(t,e,n){var r=M,s=Me.transition;try{Me.transition=null,M=1,xm(t,e,n,r)}finally{Me.transition=s,M=r}return null}function xm(t,e,n,r){do Hn();while(Pt!==null);if(U&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xf(t,i),t===oe&&(te=oe=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,yh(Vs,function(){return Hn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var a=M;M=1;var l=U;U|=4,ul.current=null,hm(t,n),lh(n,t),Dp(qo),Gs=!!Ho,qo=Ho=null,t.current=n,fm(n),Wf(),U=l,M=a,Me.transition=i}else t.current=n;if(Ns&&(Ns=!1,Pt=t,ui=s),i=t.pendingLanes,i===0&&(Ut=null),Vf(n.stateNode),Se(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ci)throw ci=!1,t=da,da=null,t;return ui&1&&t.tag!==0&&Hn(),i=t.pendingLanes,i&1?t===ha?Tr++:(Tr=0,ha=t):Tr=0,qt(),null}function Hn(){if(Pt!==null){var t=Gu(ui),e=Me.transition,n=M;try{if(Me.transition=null,M=16>t?16:t,Pt===null)var r=!1;else{if(t=Pt,Pt=null,ui=0,U&6)throw Error(N(331));var s=U;for(U|=4,T=t.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Er(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,v=d.return;if(ih(d),d===u){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Er(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){a=T;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,T=g;else e:for(a=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ei(9,l)}}catch(j){Q(l,l.return,j)}if(l===a){T=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,T=b;break e}T=l.return}}if(U=s,qt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(vi,t)}catch{}r=!0}return r}finally{M=n,Me.transition=e}}return!1}function Uc(t,e,n){e=Xn(n,e),e=Gd(t,e,1),t=Lt(t,e,1),e=ye(),t!==null&&(ns(t,1,e),Se(t,e))}function Q(t,e,n){if(t.tag===3)Uc(t,t,n);else for(;e!==null;){if(e.tag===3){Uc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ut===null||!Ut.has(r))){t=Xn(n,t),t=Jd(e,t,1),e=Lt(e,t,1),t=ye(),e!==null&&(ns(e,1,t),Se(e,t));break}}e=e.return}}function vm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ce&n)===n&&(se===4||se===3&&(ce&130023424)===ce&&500>X()-hl?on(t,0):dl|=n),Se(t,e)}function mh(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var n=ye();t=mt(t,e),t!==null&&(ns(t,e,n),Se(t,n))}function wm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mh(t,n)}function bm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),mh(t,n)}var gh;gh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ke.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,lm(t,e,n);je=!!(t.flags&131072)}else je=!1,q&&e.flags&1048576&&wd(e,ti,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ms(t,e),t=e.pendingProps;var s=Gn(e,pe.current);Wn(e,n),s=il(null,e,r,t,s,n);var i=ol();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(r)?(i=!0,Zs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,el(e),s.updater=Si,e.stateNode=s,s._reactInternals=e,ea(e,r,t,n),e=ra(null,e,r,!0,i,n)):(e.tag=0,q&&i&&Ka(e),ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ms(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jm(r),t=Ve(r,t),s){case 0:e=na(null,e,r,t,n);break e;case 1:e=Ec(null,e,r,t,n);break e;case 11:e=Nc(null,e,r,t,n);break e;case 14:e=Sc(null,e,r,Ve(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),na(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Ec(t,e,r,s,n);case 3:e:{if(Zd(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Sd(t,e),si(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xn(Error(N(423)),e),e=Cc(t,e,r,n,s);break e}else if(r!==s){s=Xn(Error(N(424)),e),e=Cc(t,e,r,n,s);break e}else for(Te=$t(e.stateNode.containerInfo.firstChild),Oe=e,q=!0,Je=null,n=kd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),r===s){e=gt(t,e,n);break e}ge(t,e,r,n)}e=e.child}return e;case 5:return Ed(e),t===null&&Yo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Vo(r,s)?a=null:i!==null&&Vo(r,i)&&(e.flags|=32),Xd(t,e),ge(t,e,a,n),e.child;case 6:return t===null&&Yo(e),null;case 13:return eh(t,e,n);case 4:return tl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qn(e,null,r,n):ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Nc(t,e,r,s,n);case 7:return ge(t,e,e.pendingProps,n),e.child;case 8:return ge(t,e,e.pendingProps.children,n),e.child;case 12:return ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,z(ni,r._currentValue),r._currentValue=a,i!==null)if(Xe(i.value,a)){if(i.children===s.children&&!ke.current){e=gt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ht(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Xo(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xo(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wn(e,n),s=ze(s),r=r(s),e.flags|=1,ge(t,e,r,n),e.child;case 14:return r=e.type,s=Ve(r,e.pendingProps),s=Ve(r.type,s),Sc(t,e,r,s,n);case 15:return Qd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Ms(t,e),e.tag=1,Ne(r)?(t=!0,Zs(e)):t=!1,Wn(e,n),Kd(e,r,s),ea(e,r,s,n),ra(null,e,r,!0,t,n);case 19:return th(t,e,n);case 22:return Yd(t,e,n)}throw Error(N(156,e.tag))};function yh(t,e){return Hu(t,e)}function _m(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,n,r){return new _m(t,e,n,r)}function gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jm(t){if(typeof t=="function")return gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$a)return 11;if(t===La)return 14}return 2}function Mt(t,e){var n=t.alternate;return n===null?(n=De(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bs(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")gl(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cn:return an(n.children,s,i,e);case Ia:a=8,s|=8;break;case ko:return t=De(12,n,e,s|2),t.elementType=ko,t.lanes=i,t;case No:return t=De(13,n,e,s),t.elementType=No,t.lanes=i,t;case So:return t=De(19,n,e,s),t.elementType=So,t.lanes=i,t;case Eu:return Ti(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nu:a=10;break e;case Su:a=9;break e;case $a:a=11;break e;case La:a=14;break e;case Nt:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=De(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function an(t,e,n,r){return t=De(7,t,r,e),t.lanes=n,t}function Ti(t,e,n,r){return t=De(22,t,r,e),t.elementType=Eu,t.lanes=n,t.stateNode={isHidden:!1},t}function ho(t,e,n){return t=De(6,t,null,e),t.lanes=n,t}function fo(t,e,n){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function km(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yl(t,e,n,r,s,i,a,l,c){return t=new km(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=De(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},el(i),t}function Nm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xh(t){if(!t)return Bt;t=t._reactInternals;e:{if(pn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ne(n))return xd(t,n,e)}return e}function vh(t,e,n,r,s,i,a,l,c){return t=yl(n,r,!0,t,s,i,a,l,c),t.context=xh(null),n=t.current,r=ye(),s=Dt(n),i=ht(r,s),i.callback=e??null,Lt(n,i,s),t.current.lanes=s,ns(t,s,r),Se(t,r),t}function Oi(t,e,n,r){var s=e.current,i=ye(),a=Dt(s);return n=xh(n),e.context===null?e.context=n:e.pendingContext=n,e=ht(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lt(s,e,a),t!==null&&(Ye(t,s,a,i),Ls(t,s,a)),a}function hi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xl(t,e){Dc(t,e),(t=t.alternate)&&Dc(t,e)}function Sm(){return null}var wh=typeof reportError=="function"?reportError:function(t){console.error(t)};function vl(t){this._internalRoot=t}Pi.prototype.render=vl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Oi(t,e,null,null)};Pi.prototype.unmount=vl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){Oi(null,t,null,null)}),e[pt]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yu();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Et.length&&e!==0&&e<Et[n].priority;n++);Et.splice(n,0,t),n===0&&Zu(t)}};function wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ai(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function Em(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=hi(a);i.call(u)}}var a=vh(e,r,t,0,null,!1,!1,"",Mc);return t._reactRootContainer=a,t[pt]=a.current,Br(t.nodeType===8?t.parentNode:t),hn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=hi(c);l.call(u)}}var c=yl(t,0,!1,null,null,!1,!1,"",Mc);return t._reactRootContainer=c,t[pt]=c.current,Br(t.nodeType===8?t.parentNode:t),hn(function(){Oi(e,c,n,r)}),c}function Ri(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=hi(a);l.call(c)}}Oi(e,a,t,s)}else a=Em(n,e,t,s,r);return hi(a)}Ju=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xr(e.pendingLanes);n!==0&&(Ma(e,n|1),Se(e,X()),!(U&6)&&(Zn=X()+500,qt()))}break;case 13:hn(function(){var r=mt(t,1);if(r!==null){var s=ye();Ye(r,t,1,s)}}),xl(t,1)}};Fa=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var n=ye();Ye(e,t,134217728,n)}xl(t,134217728)}};Qu=function(t){if(t.tag===13){var e=Dt(t),n=mt(t,e);if(n!==null){var r=ye();Ye(n,t,e,r)}xl(t,e)}};Yu=function(){return M};Xu=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};Lo=function(t,e,n){switch(e){case"input":if(To(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ji(r);if(!s)throw Error(N(90));Tu(r),To(r,s)}}}break;case"textarea":Pu(t,n);break;case"select":e=n.value,e!=null&&Mn(t,!!n.multiple,e,!1)}};Du=fl;Mu=hn;var Cm={usingClientEntryPoint:!1,Events:[ss,An,ji,Lu,Uu,fl]},pr={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tm={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bu(t),t===null?null:t.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||Sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{vi=Ss.inject(Tm),rt=Ss}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm;Ae.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wl(e))throw Error(N(200));return Nm(t,e,null,n)};Ae.createRoot=function(t,e){if(!wl(t))throw Error(N(299));var n=!1,r="",s=wh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yl(t,1,!1,null,null,n,!1,r,s),t[pt]=e.current,Br(t.nodeType===8?t.parentNode:t),new vl(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Bu(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return hn(t)};Ae.hydrate=function(t,e,n){if(!Ai(e))throw Error(N(200));return Ri(null,t,e,!0,n)};Ae.hydrateRoot=function(t,e,n){if(!wl(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=vh(e,null,t,1,n??null,s,!1,i,a),t[pt]=e.current,Br(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Ae.render=function(t,e,n){if(!Ai(e))throw Error(N(200));return Ri(null,t,e,!1,n)};Ae.unmountComponentAtNode=function(t){if(!Ai(t))throw Error(N(40));return t._reactRootContainer?(hn(function(){Ri(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Ae.unstable_batchedUpdates=fl;Ae.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ai(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ri(t,e,n,!1,r)};Ae.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(t){console.error(t)}}bh(),bu.exports=Ae;var Om=bu.exports,_h,Fc=Om;_h=Fc.createRoot,Fc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>E.createElement("svg",{ref:d,...Pm,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Am(t)}`,l].join(" "),...u},[...e.map(([h,f])=>E.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=D("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=D("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=D("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=D("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=D("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=D("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=D("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=D("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=D("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kh=E.createContext(void 0);function Jm({children:t}){const[e,n]=E.useState("he");E.useEffect(()=>{document.documentElement.lang=e,document.documentElement.dir=e==="he"?"rtl":"ltr",document.body.className=e==="he"?"rtl":"ltr"},[e]);const r=()=>{n(i=>i==="he"?"en":"he")},s=(i,a)=>e==="he"?i:a;return o.jsx(kh.Provider,{value:{language:e,toggleLanguage:r,t:s},children:t})}function ae(){const t=E.useContext(kh);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const Qm="modulepreload",Ym=function(t){return"/"+t},Bc={},os=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Ym(c),c in Bc)return;Bc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Qm,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Xm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Sl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Wc extends Sl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hc extends Sl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qc extends Sl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ga;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ga||(ga={}));var Zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class eg{constructor(e,{headers:n={},customFetch:r,region:s=ga.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Zm(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:a,body:l,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const v=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:c}).catch(m=>{throw m.name==="AbortError"?m:new Wc(m)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Hc(v);if(!v.ok)throw new qc(v);let y=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield v.json():y==="application/octet-stream"?x=yield v.blob():y==="text/event-stream"?x=v:y==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Wc(i)}:{data:null,error:i,response:i instanceof qc||i instanceof Hc?i.context:void 0}}})}}var _e={},El={},$i={},as={},Li={},Ui={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},er=tg();const ng=er.fetch,Nh=er.fetch.bind(er),Sh=er.Headers,rg=er.Request,sg=er.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sh,Request:rg,Response:sg,default:Nh,fetch:ng},Symbol.toStringTag,{value:"Module"})),ig=rf(sr);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});let og=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Di.default=og;var Eh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});const ag=Eh(ig),lg=Eh(Di);let cg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ag.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let d=null,h=null,f=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),m=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&m&&m.length>1&&(f=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&x===""?(v=204,w="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new lg.default(d)}return{error:d,data:h,count:f,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ui.default=cg;var ug=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const dg=ug(Ui);let hg=class extends dg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Li.default=hg;var fg=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});const pg=fg(Li);let mg=class extends pg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};as.default=mg;var gg=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});const mr=gg(as);let yg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new mr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new mr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};$i.default=yg;var Ch=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});const xg=Ch($i),vg=Ch(as);let wg=class Th{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new xg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Th(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new vg.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};El.default=wg;var ir=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Oh=ir(El);_e.PostgrestClient=Oh.default;const Ph=ir($i);_e.PostgrestQueryBuilder=Ph.default;const Ah=ir(as);_e.PostgrestFilterBuilder=Ah.default;const Rh=ir(Li);_e.PostgrestTransformBuilder=Rh.default;const Ih=ir(Ui);_e.PostgrestBuilder=Ih.default;const $h=ir(Di);_e.PostgrestError=$h.default;var bg=_e.default={PostgrestClient:Oh.default,PostgrestQueryBuilder:Ph.default,PostgrestFilterBuilder:Ah.default,PostgrestTransformBuilder:Rh.default,PostgrestBuilder:Ih.default,PostgrestError:$h.default};const{PostgrestClient:_g,PostgrestQueryBuilder:Px,PostgrestFilterBuilder:Ax,PostgrestTransformBuilder:Rx,PostgrestBuilder:Ix,PostgrestError:$x}=bg;class jg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kg="2.75.0",Ng=`realtime-js/${kg}`,Sg="1.0.0",ya=1e4,Eg=1e3,Cg=100;var Or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Or||(Or={}));var ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ne||(ne={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var xa;(function(t){t.websocket="websocket"})(xa||(xa={}));var Zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zt||(Zt={}));class Tg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Lh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const Vc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Og(a,t,e,s),i),{}):{}},Og=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Uh(i,a):va(a)},Uh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ig(e,n)}switch(t){case F.bool:return Pg(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Ag(e);case F.json:case F.jsonb:return Rg(e);case F.timestamp:return $g(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return va(e);default:return va(e)}},va=t=>t,Pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ag=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ig=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Uh(e,l))}return t},$g=t=>typeof t=="string"?t.replace(" ","T"):t,Dh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class po{constructor(e,n,r={},s=ya){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kc||(Kc={}));class Pr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Pr.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pr.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),w=d.filter(x=>v.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gc||(Gc={}));var Ar;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ar||(Ar={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class Cl{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new po(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new Lh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Pr(this),this.broadcastEndpointURL=Dh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ar.PRESENCE]&&this.bindings[Ar.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(at.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(at.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(at.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,m=[];for(let p=0;p<x;p++){const g=y[p],{filter:{event:b,schema:j,table:k,filter:S}}=g,C=v&&v[p];if(C&&C.event===b&&C.schema===j&&C.table===k&&C.filter===S)m.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=ne.errored,e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(at.SUBSCRIBED);return}}).receive("error",v=>{this.state=ne.errored,e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ne.joined&&e===Ar.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new po(this,Ge.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new po(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ge;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,y,x;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(y=v.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(v=>v.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var w,y,x,m,p,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,j=(w=v.filter)===null||w===void 0?void 0:w.event;return b&&((y=n.ids)===null||y===void 0?void 0:y.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:x,commit_timestamp:m,type:p,errors:g}=w;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Cl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vc(e.columns,e.old_record)),n}}const mo=()=>{},Cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lg=[1e3,2e3,5e3,1e4],Ug=1e4,Dg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ya,this.transport=null,this.heartbeatIntervalMs=Cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mo,this.ref=0,this.reconnectTimer=null,this.logger=mo,this.conn=null,this.sendBuffer=[],this.serializer=new Tg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>os(async()=>{const{default:l}=await Promise.resolve().then(()=>sr);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${xa.websocket}`,this.httpEndpoint=Dh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return Zt.Connecting;case Or.open:return Zt.Open;case Or.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Cl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Eg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Dg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Ng};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ya,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Cs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:mo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>Lg[h-1]||Ug,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Tl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fg extends Tl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wa extends Tl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Mh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),ba=t=>{if(Array.isArray(t))return t.map(n=>ba(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ba(r)}),e},Wg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hg=(t,e,n)=>mn(void 0,void 0,void 0,function*(){const r=yield Bg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new Fg(go(s),i,a))}).catch(s=>{e(new wa(go(s),s))}):e(new wa(go(t),t))}),qg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Wg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ls(t,e,n,r,s,i){return mn(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,qg(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Hg(c,l,r))})})}function pi(t,e,n,r){return mn(this,void 0,void 0,function*(){return ls(t,"GET",e,n,r)})}function tt(t,e,n,r,s){return mn(this,void 0,void 0,function*(){return ls(t,"POST",e,r,s,n)})}function _a(t,e,n,r,s){return mn(this,void 0,void 0,function*(){return ls(t,"PUT",e,r,s,n)})}function Vg(t,e,n,r){return mn(this,void 0,void 0,function*(){return ls(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Fh(t,e,n,r,s){return mn(this,void 0,void 0,function*(){return ls(t,"DELETE",e,r,s,n)})}var Kg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Gg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Kg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}})}}var Jg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Qg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new Gg(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return Jg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}})}}var we=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Yg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Mh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Jc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?_a:tt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Jc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield _a(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ee(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Tl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>pi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Qg(c,this.shouldThrowOnError)}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ba(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r)&&r instanceof wa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yg),n),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}listV2(e,n){return we(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Zg="2.75.0",e0={"X-Client-Info":`storage-js/${Zg}`};var vn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class t0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},e0),n),this.fetch=Mh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}})}getBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}createBucket(e){return vn(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return vn(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield Fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}}class n0 extends t0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Xg(this.url,this.headers,e,this.fetch)}}const r0="2.75.0";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const s0={"X-Client-Info":`supabase-js-${wr}/${r0}`},i0={headers:s0},o0={schema:"public"},a0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l0={};var c0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const u0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Nh:e=fetch,(...n)=>e(...n)},d0=()=>typeof Headers>"u"?Sh:Headers,h0=(t,e,n)=>{const r=u0(n),s=d0();return(i,a)=>c0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var f0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function p0(t){return t.endsWith("/")?t:t+"/"}function m0(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function g0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zh="2.75.0",Nn=30*1e3,ja=3,yo=ja*Nn,y0="http://localhost:9999",x0="supabase.auth.token",v0={"X-Client-Info":`gotrue-js/${zh}`},ka="X-Supabase-Api-Version",Bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b0=10*60*1e3;class Zr extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _0 extends Zr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j0(t){return A(t)&&t.name==="AuthApiError"}class en extends Zr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vt extends Zr{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class kt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k0(t){return A(t)&&t.name==="AuthSessionMissingError"}class wn extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Os extends Vt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qc extends Vt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Na extends Vt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xo(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Yc extends Vt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sa extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xc=` 	
\r=`.split(""),S0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xc.length;e+=1)t[Xc[e].charCodeAt(0)]=-2;for(let e=0;e<mi.length;e+=1)t[mi[e].charCodeAt(0)]=e;return t})();function Zc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mi[r]),e.queuedBits-=6}}function Wh(t,e,n){const r=S0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eu(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{T0(a,r,n)};for(let a=0;a<t.length;a+=1)Wh(t.charCodeAt(a),s,i);return e.join("")}function E0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function C0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}E0(r,e)}}function T0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function O0(t){const e=[];return C0(t,n=>e.push(n)),new Uint8Array(e)}function sn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Zc(s,n,r)),Zc(null,n,r),e.join("")}function P0(t){return Math.round(Date.now()/1e3)+t}function A0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ee=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Hh=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function R0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const qh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},I0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jt=async(t,e)=>{await t.removeItem(e)};class Mi{constructor(){this.promise=new Mi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Mi.promiseConstructor=Promise;function vo(t){const e=t.split(".");if(e.length!==3)throw new Sa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w0.test(e[r]))throw new Sa("JWT not in base64url format");return{header:JSON.parse(eu(e[0])),payload:JSON.parse(eu(e[1])),signature:Vn(e[2]),raw:{header:e[0],payload:e[1]}}}async function $0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function L0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function U0(t){return("0"+t.toString(16)).substr(-2)}function D0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,U0).join("")}async function M0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function F0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await M0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(t,e,n=!1){const r=D0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Sn(t,`${e}-code-verifier`,s);const i=await F0(r);return[i,r===i?"plain":"s256"]}const z0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B0(t){const e=t.headers.get(ka);if(!e||!e.match(z0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(t){if(!q0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tu(t){return JSON.parse(JSON.stringify(t))}var V0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K0=[502,503,504];async function nu(t){var e;if(!I0(t))throw new Na(Xt(t),0);if(K0.includes(t.status))throw new Na(Xt(t),t.status);let n;try{n=await t.json()}catch(i){throw new en(Xt(i),i)}let r;const s=B0(t);if(s&&s.getTime()>=Bh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yc(Xt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new kt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Yc(Xt(n),t.status,n.weak_password.reasons);throw new _0(Xt(n),t.status||500,r)}const G0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ka]||(i[ka]=Bh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await J0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function J0(t,e,n,r,s,i){const a=G0(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new Na(Xt(c),0)}if(l.ok||await nu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await nu(c)}}function qe(t){var e;let n=null;X0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=P0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ru(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q0(t){return{data:t,error:null}}function Y0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=V0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function su(t){return t}function X0(t){return t.access_token&&t.refresh_token&&t.expires_in}const bo=["global","local","others"];var Z0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ey{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=bo[0]){if(bo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bo.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Z0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Y0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:su});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){_n(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){_n(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){_n(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_n(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){_n(e.userId),_n(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:su});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}}function iu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const jn={debug:!!(globalThis&&Hh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ty extends Vh{}async function ny(t,e,n){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ty(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ry(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function sy(t){return parseInt(t,16)}function iy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function oy(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Kh(t.address),w=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${v}

${y}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${x}
${m}`}class Z extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class gi extends Z{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ay({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Z({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Z({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Z({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Z({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Z({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Z({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Jh(a)){if(i.rp.id!==a)return new Z({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Z({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ly({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Jh(r)){if(n.rpId!==r)return new Z({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Gh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class cy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uy=new cy;function dy(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Gh(t,["challenge","user","excludeCredentials"]),i=Vn(e).buffer,a=Object.assign(Object.assign({},n),{id:Vn(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function hy(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Gh(t,["challenge","allowCredentials"]),s=Vn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Vn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function fy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:sn(new Uint8Array(t.response.attestationObject)),clientDataJSON:sn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function py(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sn(new Uint8Array(s.authenticatorData)),clientDataJSON:sn(new Uint8Array(s.clientDataJSON)),signature:sn(new Uint8Array(s.signature)),userHandle:s.userHandle?sn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ou(){var t,e;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function my(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:ay({error:e,options:t})}}}async function gy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:ly({error:e,options:t})}}}const yy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},xy={userVerification:"preferred",hints:["security-key"]};function yi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const l=r[i];e(l)?r[i]=yi(l,a):r[i]=yi(a)}else r[i]=a}return r}function vy(t,e){return yi(yy,t,e||{})}function wy(t,e){return yi(xy,t,e||{})}class by{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const c=s??uy.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=vy(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await my({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=wy(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await gy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!ou())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!ou())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in register",a)}}}}ry();const _y={url:y0,storageKey:x0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function au(t,e,n){return await n()}const kn={};class es{get jwks(){var e,n;return(n=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=es.nextInstanceID,es.nextInstanceID+=1,this.instanceID>0&&Ee()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_y),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ey({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qh(s.fetch),this.lock=s.lock||au,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ee()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ny:this.lock=au,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new by(this)},this.persistSession?(s.storage?this.storage=s.storage:Hh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=iu(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=R0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ee()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),N0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new en("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await bn(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:qe})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qe})}else throw new Ts("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ru})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ru})}else throw new Ts("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,l,c,u,d,h,f;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:y,wallet:x,statement:m,options:p}=e;let g;if(Ee())if(typeof x=="object")g=x;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")g=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=x}const b=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),j=await g.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Kh(j[0]);let S=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const $=await g.request({method:"eth_chainId"});S=sy($)}const C={domain:b.host,address:k,statement:m,uri:b.href,version:"1",chainId:S,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=oy(C),w=await g.request({method:"personal_sign",params:[iy(v),k]})}try{const{data:y,error:x}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:qe});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new wn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(A(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,s,i,a,l,c,u,d,h,f,v;let w,y;if("message"in e)w=e.message,y=e.signature;else{const{chain:x,wallet:m,statement:p,options:g}=e;let b;if(Ee())if(typeof m=="object")b=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const j=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:x,error:m}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:sn(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qe});if(m)throw m;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new wn}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:m})}catch(x){if(A(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qe});if(await jt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qe}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await bn(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ts("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await bn(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Q0})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new kt;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ts("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Jt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=wo()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(n){if(A(n))return k0(n)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new kt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await bn(this.storage,this.storageKey));const{data:u,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Tt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=vo(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new kt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ee())throw new Os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Os("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const v=f-d;v*1e3<=Nn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(j0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=A0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await bn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ee()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qe}),{data:f,error:v}=h;return v?{data:{user:null,session:null},error:v}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new wn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:v})}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await L0(async s=>(s>0&&await $0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&xo(i)&&Date.now()+a-r<Nn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ee()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Sn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:wo()}else if(s&&!s.user&&!s.user){const a=await Jt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await jt(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,s)):s.user=wo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${yo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),xo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),A(i)){const a={data:null,error:i};return xo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=tu(s);await Sn(this.storage,this.storageKey,i)}else{const s=tu(n);await Sn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Nn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nn}ms, refresh threshold is ${ja} ticks`),s<=ja&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await bn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fy(e.webauthn.credential_response):py(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:dy(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hy(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=vo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+b0>s)return r;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=vo(r);n!=null&&n.allowExpired||W0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=H0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,O0(`${l}.${c}`)))throw new Sa("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}es.nextInstanceID=0;const jy=es;class ky extends jy{constructor(e){super(e)}}var Ny=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Sy{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=g0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:o0,realtime:l0,auth:Object.assign(Object.assign({},a0),{storageKey:c}),global:i0},d=m0(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=h0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _g(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new n0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Ny(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ky({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Mg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qh=(t,e,n)=>new Sy(t,e,n);function Ey(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ey()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cy="https://ctbqgowxhcuspngagzst.supabase.co",Ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YnFnb3d4aGN1c3BuZ2FnenN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMjM4NDcsImV4cCI6MjA3NTg5OTg0N30.59kkmBX-Puux3PeoYYc-ofpnro-PLNf1s4rmss-jANI",Oy=Qh(Cy,Ty,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),Yh=E.createContext(void 0),lu="lulu_k_cart",Py=800,Ay=40;function Ry({children:t}){const[e,n]=E.useState(()=>{try{const y=localStorage.getItem(lu);return y?JSON.parse(y):[]}catch{return[]}}),[r,s]=E.useState(0),[i,a]=E.useState(null);E.useEffect(()=>{try{localStorage.setItem(lu,JSON.stringify(e))}catch(y){console.error("Failed to save cart:",y)}},[e]);const l=(y,x,m)=>{n(p=>{const g=p.findIndex(b=>b.menuItem.id===y.id&&JSON.stringify(b.selectedAddOns)===JSON.stringify(x));if(g>=0){const b=[...p];return b[g].quantity+=m,b}return[...p,{menuItem:y,selectedAddOns:x,quantity:m}]})},c=y=>{n(x=>x.filter(m=>m.menuItem.id!==y))},u=(y,x)=>{if(x<=0){c(y);return}n(m=>m.map(p=>p.menuItem.id===y?{...p,quantity:x}:p))},d=()=>{n([]),s(0),a(null)},h=async y=>{try{const{data:x,error:m}=await Oy.from("coupons").select("*").eq("code",y.toUpperCase()).eq("active",!0).single();if(m||!x)return{success:!1,discount:0,message:"   "};const p=new Date,g=x.expires_at?new Date(x.expires_at):null;if(g&&p>g)return{success:!1,discount:0,message:"  "};if(x.usage_limit&&x.used_count>=x.usage_limit)return{success:!1,discount:0,message:"   "};const b=f();let j=0;return x.discount_percent?j=b*x.discount_percent/100:x.discount_amount&&(j=x.discount_amount),s(j),a(y.toUpperCase()),{success:!0,discount:j,message:` !  ${j.toFixed(2)}`}}catch(x){return console.error("Error applying coupon:",x),{success:!1,discount:0,message:"  "}}},f=()=>e.reduce((y,x)=>{const m=x.selectedAddOns.reduce((p,g)=>p+g.price,0);return y+(x.menuItem.price+m)*x.quantity},0),v=()=>e.reduce((y,x)=>y+x.quantity,0),w=()=>f()>=Py?0:Ay;return o.jsx(Yh.Provider,{value:{cartItems:e,addToCart:l,removeFromCart:c,updateQuantity:u,clearCart:d,getTotalPrice:f,getTotalItems:v,getShippingCost:w,applyCoupon:h,couponDiscount:r,appliedCoupon:i},children:t})}function vt(){const t=E.useContext(Yh);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}function Iy({onCartClick:t}){const{language:e,toggleLanguage:n,t:r}=ae(),{getTotalItems:s}=vt(),[i,a]=E.useState(!1),l=s(),c=window.location.pathname,u=[{path:"/",labelHe:"",labelEn:"Home"},{path:"/menu",labelHe:"",labelEn:"Menu"},{path:"/about",labelHe:"",labelEn:"About"},{path:"/reviews",labelHe:"",labelEn:"Reviews"},{path:"/contact",labelHe:" ",labelEn:"Contact"}],d=[{path:"/accessibility",labelHe:"",labelEn:"Accessibility"},{path:"/terms",labelHe:"",labelEn:"Terms"}];return o.jsxs("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("a",{href:"/",className:"flex items-center rtl-space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-chinese-red to-chinese-gold rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:""})}),o.jsxs("div",{className:"hidden sm:block text-right",children:[o.jsx("h1",{className:"text-xl font-bold gradient-text",children:r("   ","Lulu's Chinese Kitchen")}),o.jsx("p",{className:"text-sm text-gray-600",children:e==="he"?"Lulu's Chinese Kitchen":"   "})]})]}),o.jsx("nav",{className:"hidden md:flex rtl-space-x-6",children:u.map(h=>o.jsx("a",{href:h.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${c===h.path?"text-chinese-red bg-chinese-lightGold":"text-gray-700 hover:text-chinese-red hover:bg-gray-100"}`,children:e==="he"?h.labelHe:h.labelEn},h.path))}),o.jsxs("div",{className:"flex items-center rtl-space-x-4",children:[o.jsxs("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 flex items-center",title:e==="he"?"English":"",children:[o.jsx(Dm,{className:"w-5 h-5 text-gray-600"}),o.jsx("span",{className:"mr-1 text-sm font-medium",children:e==="he"?"EN":""})]}),o.jsxs("button",{onClick:t,className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",children:[o.jsx(qn,{className:"w-6 h-6 text-gray-600"}),l>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-chinese-red text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:l})]}),o.jsx("button",{onClick:()=>a(!i),className:"md:hidden p-2 rounded-md text-gray-600 hover:text-chinese-red hover:bg-gray-100",children:o.jsx(zm,{className:"w-6 h-6"})})]})]})}),i&&o.jsx("div",{className:"md:hidden border-t border-gray-200",children:o.jsxs("div",{className:"px-4 py-3 space-y-2",children:[u.map(h=>o.jsx("a",{href:h.path,className:`block px-3 py-2 rounded-md text-base font-medium ${c===h.path?"text-chinese-red bg-chinese-lightGold":"text-gray-700 hover:text-chinese-red hover:bg-gray-100"}`,onClick:()=>a(!1),children:e==="he"?h.labelHe:h.labelEn},h.path)),o.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:d.map(h=>o.jsx("a",{href:h.path,className:`block px-3 py-2 rounded-md text-sm font-medium ${c===h.path?"text-chinese-red bg-chinese-lightGold":"text-gray-600 hover:text-chinese-red hover:bg-gray-100"}`,onClick:()=>a(!1),children:e==="he"?h.labelHe:h.labelEn},h.path))})]})})]})}function $y(){const{t}=ae(),e="052-520-1978",n="lulu.kitchen.il@gmail.com";return o.jsx("footer",{className:"bg-chinese-black text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-chinese-red to-chinese-gold rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-chinese-gold",children:t("   ","Lulu's Chinese Kitchen")})]}),o.jsx("p",{className:"text-gray-300 leading-relaxed",children:t("      .    .","Authentic Chinese food made fresh when ordered. Better to order a day in advance.")})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-chinese-gold",children:t(" ","Contact Details")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Xr,{className:"w-5 h-5 text-chinese-red"}),o.jsx("span",{children:e})]}),o.jsx("a",{href:`tel:${e}`,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200 transform hover:scale-105",children:t("","Call")})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(fi,{className:"w-5 h-5 text-chinese-red"}),o.jsx("span",{className:"text-sm",children:n})]}),o.jsx("a",{href:`mailto:${n}`,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200 transform hover:scale-105",children:t("","Email")})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Yr,{className:"w-5 h-5 text-chinese-red"}),o.jsx("span",{children:e})]}),o.jsx("a",{href:`https://wa.me/972${e.replace(/-/g,"").substring(1)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-200 transform hover:scale-105",children:t("","WhatsApp")})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(jl,{className:"w-5 h-5 text-chinese-red"}),o.jsx("span",{children:t(" ","Jerusalem and surroundings")})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(bl,{className:"w-5 h-5 text-chinese-red"}),o.jsx("span",{children:t("'-' 10:00-22:00","Sun-Thu 10:00-22:00")})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-chinese-gold",children:t(" ","Payment Methods")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-green-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:""})}),o.jsx("span",{children:t("","Cash")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"bit"})}),o.jsx("span",{children:t("","Bit")})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"PB"})}),o.jsx("span",{children:t("","Paybox")})]})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[o.jsx("h5",{className:"text-sm font-semibold text-chinese-gold mb-3",children:t(" ","Quick Contact")}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("a",{href:`tel:${e}`,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-3 rounded-lg text-sm transition-colors duration-200 flex items-center justify-center space-x-1",children:[o.jsx(Xr,{className:"w-4 h-4"}),o.jsx("span",{children:t("","Call")})]}),o.jsxs("a",{href:`https://wa.me/972${e.replace(/-/g,"").substring(1)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg text-sm transition-colors duration-200 flex items-center justify-center space-x-1",children:[o.jsx(Yr,{className:"w-4 h-4"}),o.jsx("span",{children:t("","WhatsApp")})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex gap-6 text-sm",children:[o.jsx("a",{href:"/accessibility",className:"text-gray-300 hover:text-chinese-gold transition-colors duration-200",children:t("","Accessibility")}),o.jsx("a",{href:"/terms",className:"text-gray-300 hover:text-chinese-gold transition-colors duration-200",children:t(" ","Terms of Use")}),o.jsx("a",{href:"/contact",className:"text-gray-300 hover:text-chinese-gold transition-colors duration-200",children:t(" ","Contact")})]})}),o.jsx("p",{className:"text-gray-400 text-center text-sm",children:t(" 2025    .   ."," 2025 Lulu's Chinese Kitchen. All rights reserved.")})]})]})})}function Ly({item:t,onClose:e}){const{language:n,t:r}=ae(),{addToCart:s}=vt(),[i,a]=E.useState(1),[l,c]=E.useState([]);if(E.useEffect(()=>{a(1),c([])},[t]),!t)return null;const u=y=>{c(x=>x.find(p=>p.id===y.id)?x.filter(p=>p.id!==y.id):[...x,y])},d=()=>{s(t,l,i),e()},h=l.reduce((y,x)=>y+x.price,0),f=(t.price+h)*i,w=t.image_url?t.image_url.startsWith("http")?t.image_url:`https://lulu-k.com/images/${t.image_url}`:null;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60]",onClick:e}),o.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl shadow-2xl z-[61] w-[90%] max-w-md max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold",children:n==="he"?t.name_he:t.name_en}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(yt,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[w&&o.jsx("img",{src:w,alt:n==="he"?t.name_he:t.name_en,className:"w-full h-40 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:n==="he"?t.description_he:t.description_en}),o.jsxs("p",{className:"text-xl font-bold text-chinese-red mt-2",children:["",t.price]})]}),t.addOns&&t.addOns.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:r("","Add-ons")}),o.jsx("div",{className:"space-y-2",children:t.addOns.map(y=>o.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:l.some(x=>x.id===y.id),onChange:()=>u(y),className:"w-4 h-4 text-chinese-red"}),o.jsx("span",{className:"text-sm",children:n==="he"?y.name_he:y.name_en})]}),o.jsxs("span",{className:"text-sm font-semibold text-chinese-red",children:["+",y.price]})]},y.id))})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx("span",{className:"font-semibold",children:r("","Quantity")}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"p-2 bg-gray-100 rounded hover:bg-gray-200",children:o.jsx(kl,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-8 text-center font-bold",children:i}),o.jsx("button",{onClick:()=>a(i+1),className:"p-2 bg-gray-100 rounded hover:bg-gray-200",children:o.jsx(Ii,{className:"w-4 h-4"})})]})]}),o.jsxs("button",{onClick:d,className:"w-full py-3 bg-chinese-red text-white rounded-lg font-semibold hover:bg-chinese-darkRed transition-colors",children:[r(" ","Add to Cart")," - ",f.toFixed(2)]})]})]})]})}function Uy({allMenuItems:t}){const{language:e,t:n}=ae(),{cartItems:r}=vt(),[s,i]=E.useState([]),[a,l]=E.useState(null);return E.useEffect(()=>{if(t.length===0)return;const c=new Set(r.map(f=>f.menuItem.id)),u=new Set(r.map(f=>f.menuItem.category));let d=[];if(u.size>0&&(d=t.filter(f=>!c.has(f.id)&&u.has(f.category))),d.length<3){const f=t.filter(v=>!c.has(v.id));d=[...d,...f]}const h=d.sort(()=>Math.random()-.5);i(h.slice(0,2))},[r,t]),s.length===0?null:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-br from-chinese-lightGold to-white p-4 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(dt,{className:"w-5 h-5 text-chinese-gold fill-chinese-gold"}),o.jsx("h3",{className:"text-lg font-bold",children:n(" ","Highly Recommended")})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(c=>o.jsxs("div",{onClick:()=>l(c),className:"bg-white rounded-lg p-3 cursor-pointer hover:shadow-md transition-shadow",children:[c.image_url&&o.jsx("img",{src:c.image_url,alt:e==="he"?c.name_he:c.name_en,className:"w-full h-20 object-cover rounded-md mb-2"}),o.jsx("h4",{className:"font-semibold text-sm mb-1 line-clamp-1",children:e==="he"?c.name_he:c.name_en}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-base font-bold text-chinese-red",children:["",c.price]}),o.jsx("button",{className:"text-xs text-white bg-chinese-red px-2 py-1 rounded hover:bg-chinese-darkRed transition",children:n("","Add")})]})]},c.id))})]}),o.jsx(Ly,{item:a,onClose:()=>l(null)})]})}function Dy({isOpen:t,onClose:e,onCheckout:n,allMenuItems:r=[]}){const{cartItems:s,updateQuantity:i,removeFromCart:a,getTotalPrice:l,getShippingCost:c,getTotalItems:u,applyCoupon:d,couponDiscount:h,appliedCoupon:f}=vt(),{language:v,t:w}=ae(),[y,x]=E.useState(""),[m,p]=E.useState("");if(!t)return null;const g=l(),b=c(),j=g+b-h,k=async()=>{if(!y.trim()){p(w("   ","Please enter a coupon code"));return}const O=await d(y);p(O.message),O.success&&setTimeout(()=>p(""),3e3)},S=800,C=S-g,$=Math.min(g/S*100,100);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:e}),o.jsx("div",{className:`fixed top-0 ${v==="he"?"right-0":"left-0"} h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform duration-300`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qn,{className:"w-6 h-6 text-chinese-red"}),o.jsxs("h2",{className:"text-xl font-bold",children:[w(" ","Shopping Cart")," (",u(),")"]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(yt,{className:"w-6 h-6"})})]}),s.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-6",children:[o.jsx(qn,{className:"w-16 h-16 text-gray-300 mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:w(" ","Your cart is empty")}),o.jsx("button",{onClick:e,className:"mt-4 px-6 py-2 bg-chinese-red text-white rounded-lg hover:bg-chinese-darkRed",children:w(" ","Continue Shopping")})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length>0&&s.length>0&&o.jsx(Uy,{allMenuItems:r}),C>0?o.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(qn,{className:"w-5 h-5 text-green-600"}),o.jsx("p",{className:"text-sm font-semibold text-green-800",children:w(` ${C.toFixed(0)}  !`,`${C.toFixed(0)} more for free shipping!`)})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500 ease-out flex items-center justify-end pr-1",style:{width:`${$}%`},children:$>15&&o.jsxs("span",{className:"text-[10px] text-white font-bold",children:[Math.round($),"%"]})})})]}):o.jsx("div",{className:"mb-4 p-3 bg-green-100 border-2 border-green-300 rounded-xl",children:o.jsxs("p",{className:"text-sm font-bold text-green-800 text-center",children:[" ",w(" !","Free Shipping!")]})}),o.jsx("div",{className:"space-y-4",children:s.map((O,me)=>{const it=(O.menuItem.price+O.selectedAddOns.reduce((Ie,$e)=>Ie+$e.price,0))*O.quantity,bt=O.menuItem.image_url?O.menuItem.image_url.startsWith("http")?O.menuItem.image_url:`https://lulu-k.com/images/${O.menuItem.image_url}`:null;return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex gap-3 mb-2",children:[bt&&o.jsx("img",{src:bt,alt:v==="he"?O.menuItem.name_he:O.menuItem.name_en,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0",loading:"lazy",onError:Ie=>{Ie.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 flex justify-between items-start",children:[o.jsx("h3",{className:"font-semibold",children:v==="he"?O.menuItem.name_he:O.menuItem.name_en}),o.jsx("button",{onClick:()=>a(O.menuItem.id),className:"text-red-500 hover:text-red-700",children:o.jsx(Nl,{className:"w-5 h-5"})})]})]}),O.selectedAddOns.length>0&&o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:O.selectedAddOns.map((Ie,$e)=>o.jsxs("div",{children:["+ ",v==="he"?Ie.name_he:Ie.name_en," (+",Ie.price,")"]},$e))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(O.menuItem.id,O.quantity-1),className:"p-1 bg-white rounded hover:bg-gray-100",children:o.jsx(kl,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-8 text-center font-semibold",children:O.quantity}),o.jsx("button",{onClick:()=>i(O.menuItem.id,O.quantity+1),className:"p-1 bg-white rounded hover:bg-gray-100",children:o.jsx(Ii,{className:"w-4 h-4"})})]}),o.jsxs("span",{className:"font-bold text-chinese-red",children:["",it.toFixed(2)]})]})]},`${O.menuItem.id}-${me}`)})})]}),o.jsxs("div",{className:"border-t p-4 bg-gray-50",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(qm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:y,onChange:O=>x(O.target.value.toUpperCase()),placeholder:w(" ","Coupon Code"),disabled:!!f,className:"w-full pl-3 pr-10 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-chinese-red disabled:bg-gray-100"})]}),o.jsx("button",{onClick:k,disabled:!!f,className:`px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${f?"bg-gray-400 text-white cursor-not-allowed":"bg-chinese-red text-white hover:bg-chinese-darkRed"}`,children:f?w("","Applied"):w("","Apply")})]}),m&&o.jsxs("p",{className:`text-sm mt-2 ${h>0?"text-green-600":"text-red-600"}`,children:[h>0?" ":"",m]}),f&&o.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[" ",w(" ","Coupon applied"),": ",f]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:w(" ","Subtotal")}),o.jsxs("span",{children:["",g.toFixed(2)]})]}),h>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:w("","Discount")}),o.jsxs("span",{children:["-",h.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:w("","Shipping")}),o.jsx("span",{className:b===0?"text-green-600 font-semibold":"",children:b===0?w("!","Free!"):`${b.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[o.jsx("span",{children:w('"',"Total")}),o.jsxs("span",{className:"text-chinese-red",children:["",j.toFixed(2)]})]})]}),o.jsx("button",{onClick:n,className:"w-full py-3 bg-chinese-red text-white rounded-lg font-semibold hover:bg-chinese-darkRed transition-colors",children:w(" ","Proceed to Checkout")})]})]})]})})]})}function My(t){return!t||t.trim().length<2?!1:/^[a-zA-Z\u0590-\u05FF\s\-']+$/.test(t.trim())}function Fy(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function zy(t){const e=t.replace(/[\s\-()]/g,"");return/^(\+972|0)?[2-9]\d{7,8}$/.test(e)}function By(t,e){if(!t)return!1;const[n,r]=t.split(":").map(Number),s=n*60+r;if(e){const a=new Date(e).getDay();if(a===5)return s>=13*60&&s<=15*60;if(a===6)return!1}return s>=13*60&&s<=21*60}function Wy(t){if(!t)return!1;const e=new Date(t),n=new Date;return n.setDate(n.getDate()+1),n.setHours(0,0,0,0),e.getDay()===6?!1:e>=n}function Hy(t){if(!t)return[];const n=new Date(t).getDay(),r=[];if(n===5)for(let s=13;s<=15;s++)for(let i=0;i<60&&!(s===15&&i>0);i+=30){const a=`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;r.push(a)}else{if(n===6)return[];for(let s=13;s<=21;s++)for(let i=0;i<60&&!(s===21&&i>0);i+=30){const a=`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;r.push(a)}}return r}function qy(){const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}const Ol="https://ctbqgowxhcuspngagzst.supabase.co",Rr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YnFnb3d4aGN1c3BuZ2FnenN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMjM4NDcsImV4cCI6MjA3NTg5OTg0N30.59kkmBX-Puux3PeoYYc-ofpnro-PLNf1s4rmss-jANI";console.log("=== Supabase Configuration ===");console.log("URL present:",!!Ol);console.log("URL value:",Ol);console.log("Anon Key present:",!!Rr);console.log("Anon Key length:",Rr.length);const V=Qh(Ol,Rr,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1},global:{headers:{apikey:Rr,Authorization:`Bearer ${Rr}`}}});console.log(" Supabase client created");const Vy=[""," "];async function Ky(){try{const{data:t,error:e}=await V.from("cities").select("*").order("name");if(e)throw e;return t||[]}catch(t){return console.error("Error fetching cities:",t),[]}}async function Gy(){try{return(await Ky()).map(e=>e.name)}catch(t){return console.error("Error fetching city names:",t),Vy}}async function Jy(t){try{const{data:e,error:n}=await V.from("cities").select("*").eq("name",t).maybeSingle();if(n)throw n;return e}catch(e){return console.error("Error fetching city:",e),null}}async function cu(t,e){var n;try{const i=`https://data.gov.il/api/3/action/datastore_search?resource_id=9ad3862c-8391-4b2f-84a4-2d4c68625f4b&q=${encodeURIComponent(t)}&limit=100`,a=await fetch(i);if(!a.ok)return console.warn("Government API request failed:",a.status),[];const l=await a.json();if(!l.success||!((n=l.result)!=null&&n.records))return[];const c=l.result.records.filter(u=>(u._||u.street_name||"").includes(e)||e.length<2).map(u=>u._||u.street_name).filter(u=>u&&u.trim().length>0);return[...new Set(c)].slice(0,10)}catch(r){return console.error("Error fetching from government API:",r),[]}}async function Qy(t,e){if(!e||e.length<1)return[];try{const n=await Jy(t);if(!n)return[];const{data:r,error:s}=await V.from("streets").select("name").eq("city_id",n.id).ilike("name",`%${e}%`).limit(10);if(s)throw s;return r&&r.length>0?r.map(i=>i.name):await cu(t,e)}catch(n){return console.error("Error getting street suggestions:",n),await cu(t,e)}}async function Yy(t,e){return e.trim().length>=2}const Ft={ADMIN_EMAILS:["lulu@lulu-k.com","lulu.kitchen.il@gmail.com"],BUSINESS_PHONE:"052-520-1978",WHATSAPP_NUMBER:"972525201978",SUPABASE_URL:"https://ctbqgowxhcuspngagzst.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YnFnb3d4aGN1c3BuZ2FnenN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMjM4NDcsImV4cCI6MjA3NTg5OTg0N30.59kkmBX-Puux3PeoYYc-ofpnro-PLNf1s4rmss-jANI",GOOGLE_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbwMOyiciv26TAgzwg06mFrQDBQX36jkDa6AUUJjZ9Gyc6P-2pJODsFDC6RGSCXmi_EOyg/exec",GOOGLE_SHEET_ID:"1EoqYXiIDOgkYJ0-WMiz7mJRYFnyHYwPnA0IcvtwGzBA",BIT_URL:"https://www.bitpay.co.il/app/me/C822FDFE-1C69-4F92-B57B-09635D465B9D",BIT_PHONE:"0525201978",PAYBOX_URL:"https://3ydbh.app.link/AQ5ENWbzzVb",DELIVERY_FEE:40,FREE_SHIPPING_THRESHOLD:800,IMAGES_BASE:"https://lulu-k.com/images",CURRENCY:""};async function Xy(t,e,n,r,s){console.log("=== START: Order Submission ==="),console.log("Step 1: Preparing order data");try{const i={customer_name:t.fullName,customer_email:t.email||"",customer_phone:t.phone,city:t.city,street:t.street,house_number:t.houseNumber,apartment:t.apartment||"",floor:t.floor||"",delivery_date:t.deliveryDate||"",delivery_time:t.deliveryTime,notes:t.notes||"",payment_method:t.paymentMethod,items:e.map(u=>{var d;return{name:u.menuItem.name_he,quantity:u.quantity,price:u.menuItem.price,addOns:((d=u.selectedAddOns)==null?void 0:d.map(h=>({name:h.name_he,price:h.price})))||[]}}),total:s,recommendations:[]};console.log("Step 2: Calling send-order Edge Function");const l=await fetch("https://ctbqgowxhcuspngagzst.supabase.co/functions/v1/send-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YnFnb3d4aGN1c3BuZ2FnenN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMjM4NDcsImV4cCI6MjA3NTg5OTg0N30.59kkmBX-Puux3PeoYYc-ofpnro-PLNf1s4rmss-jANI"},body:JSON.stringify(i)});if(!l.ok){const u=await l.json();throw new Error(u.error||"Failed to process order")}const c=await l.json();return console.log("Step 2 SUCCESS: Order processed via Edge Function",c),!c.emailSent&&c.whatsappUrl&&(console.log("Email failed, opening WhatsApp fallback"),window.open(c.whatsappUrl,"_blank")),console.log("=== COMPLETE: Order submitted successfully ==="),{success:!0,message:"  !",orderId:c.orderId}}catch(i){console.error("=== ERROR: Order submission failed ===",i),console.log("Attempting fallback: Direct database insert");try{const a=`${t.street} ${t.houseNumber}${t.apartment?",  "+t.apartment:""}${t.floor?",  "+t.floor:""}`,{data:l,error:c}=await V.from("orders").insert([{customer_name:t.fullName,email:t.email||"",phone:t.phone,city:t.city,street:t.street,house_number:t.houseNumber,address:a,delivery_time:t.deliveryTime,notes:t.notes||"",payment_method:t.paymentMethod,total_price:s,status:"pending",payment_status:"pending"}]).select().maybeSingle();if(c)throw c;const u=`  - ${t.fullName}
: ${t.phone}
": ${s}`,d=`https://api.whatsapp.com/send?phone=972525201978&text=${encodeURIComponent(u)}`;return window.open(d,"_blank"),{success:!0,message:"  ! (  -WhatsApp)",orderId:l==null?void 0:l.order_number}}catch(a){console.error("Fallback also failed:",a);let l="  .       .";return i instanceof Error&&i.message.includes("fetch")&&(l=" .       ."),{success:!1,error:l}}}}async function Zy(t){try{const{error:e}=await V.from("messages").insert({customer_name:t.name,customer_phone:t.phone,customer_email:t.email||"",message:t.message,status:"new"});if(e)throw console.error("Supabase error:",e),e;try{const n=await fetch(`${Ft.SUPABASE_URL}/functions/v1/send-contact-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ft.SUPABASE_ANON_KEY}`},body:JSON.stringify({name:t.name,phone:t.phone,email:t.email,message:t.message,preferredDate:t.preferred_date,preferredTime:t.preferred_time})});if(n.ok){const r=await n.json();!r.emailSent&&r.whatsappUrl&&window.open(r.whatsappUrl,"_blank")}}catch(n){console.warn("Failed to send email (non-blocking):",n)}return{success:!0,message:"  !"}}catch(e){return console.error("Error submitting contact:",e),{success:!1,error:"  .   ."}}}async function ex(t,e,n,r,s){try{const{error:i}=await V.from("recommendations").insert({customer_name:t,email:e||"",rating:n,comment:r,comment_en:s||"",status:"pending"});if(i)throw console.error("Supabase error:",i),i;try{const a=await fetch(`${Ft.SUPABASE_URL}/functions/v1/send-recommendation-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ft.SUPABASE_ANON_KEY}`},body:JSON.stringify({name:t,email:e,rating:n,reviewHe:r,reviewEn:s})});if(a.ok){const l=await a.json();!l.emailSent&&l.whatsappUrl&&window.open(l.whatsappUrl,"_blank")}}catch(a){console.warn("Failed to send email (non-blocking):",a)}return{success:!0,message:"  !"}}catch(i){return console.error("Error submitting review:",i),{success:!1,error:"  .   ."}}}function Xh(){return{bitPhone:Ft.BIT_PHONE,bitUrl:Ft.BIT_URL,payboxUrl:Ft.PAYBOX_URL}}function Zh(t,e){return Xh().bitUrl||"https://www.bitpay.co.il/app/me/C822FDFE-1C69-4F92-B57B-09635D465B9D"}function ef(){return Xh().payboxUrl}function tx({isOpen:t,onClose:e,paymentMethod:n,paymentLink:r,amount:s,onProceed:i}){const{t:a}=ae();if(!t)return null;const l=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(r)}&color=1e40af&bgcolor=ffffff`,c=n==="bit",u=c?"Bit":"PayBox",d=c?"bg-blue-50":"bg-green-50",h=c?"bg-blue-100":"bg-green-100",f=c?"text-blue-900":"text-green-900",v=c?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700",w=c?"text-blue-600":"text-green-600",y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),x="052-520-1978",m=()=>{if(c&&y){const p=`bit://pay?phone=0525201978&amount=${Math.round(s)}`;window.location.href=p,setTimeout(()=>{i()},1e3)}else window.open(r,"_blank"),setTimeout(()=>{i()},500)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative",children:[o.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${d}`,children:[o.jsx("h2",{className:"text-2xl font-bold",children:a(` -${u}`,`Pay with ${u}`)}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(yt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-8 text-center",children:[o.jsxs("div",{className:`${h} rounded-lg p-6 mb-6`,children:[o.jsx("p",{className:`${f} font-semibold mb-2`,children:a(" :","Amount to pay:")}),o.jsxs("p",{className:`text-4xl font-bold ${f}`,children:["",s.toFixed(2)]})]}),c&&!y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white border-4 border-blue-500 rounded-xl p-6 mb-6 flex flex-col items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Wm,{className:"w-6 h-6 text-blue-600"}),o.jsx("p",{className:"font-bold text-lg text-blue-900",children:a("   ","Scan QR Code with your phone")})]}),o.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg mb-4",children:o.jsx("img",{src:l,alt:"QR Code",className:"mx-auto w-[200px] h-[200px]"})}),o.jsxs("div",{className:"text-center text-sm text-gray-700 space-y-1",children:[o.jsx("p",{className:"font-semibold text-blue-800",children:a(" :","After scanning:")}),o.jsx("p",{children:a("   Bit"," Bit app will open")}),o.jsx("p",{children:a('  " "',' Choose "Transfer money"')}),o.jsxs("p",{className:"font-bold text-blue-900",children:[a("  :"," Enter amount:")," ",s.toFixed(2)]})]})]}),o.jsxs("div",{className:`${d} rounded-lg p-4 mb-6 text-right`,children:[o.jsx("p",{className:"font-semibold text-sm mb-2 text-blue-800",children:a(" :  "," Alternative: Manual payment")}),o.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[o.jsx("p",{children:a(" Bit      :","Open Bit  Transfer money  Send to number:")}),o.jsx("p",{className:"font-bold text-blue-700",children:x}),o.jsxs("p",{className:"font-bold text-blue-700",children:[a(":","Amount:")," ",s.toFixed(2)]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`${d} rounded-lg p-6 mb-6 text-right`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Hm,{className:`w-6 h-6 ${w} flex-shrink-0 mt-1`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold mb-3 text-lg",children:a(" ?","How to pay?")}),o.jsxs("ol",{className:"text-sm space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:"1."}),o.jsx("span",{children:a(`   " ${u}"`,`Click "Open ${u}" button`)})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:"2."}),o.jsx("span",{children:a(c?"  Bit  ":"     ",c?"Bit app will open with the amount":"A new tab will open with the payment page")})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:"3."}),o.jsx("span",{children:a("  ","Complete the payment")})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold",children:"4."}),o.jsx("span",{children:a('   " "','Return here and click "Continue to Order"')})]})]})]})]})}),c&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("p",{className:"text-sm text-blue-800 font-semibold",children:a("  "," Mobile Payment")}),o.jsx("p",{className:"text-xs text-blue-700 mt-2",children:a("     ","The app will open automatically with the full amount")})]})]}),c&&!y?o.jsx("button",{onClick:i,className:`w-full py-4 ${v} text-white rounded-lg font-bold transition-colors mb-3`,children:a(" ","Continue to Order")}):o.jsxs("button",{onClick:m,className:`w-full py-4 ${v} text-white rounded-lg font-bold transition-colors mb-3 flex items-center justify-center gap-2`,children:[o.jsx(ma,{className:"w-5 h-5"}),a(` ${u}`,`Open ${u}`)]}),o.jsx("button",{onClick:e,className:"w-full py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:a("","Cancel")}),o.jsx("p",{className:"text-xs text-gray-500 mt-4",children:a("*   ,      ","* After completing payment, return to this page and finish the order")})]})]})})})]})}function nx({isOpen:t,onClose:e,onSubmit:n}){const{t:r}=ae(),{getTotalPrice:s,getShippingCost:i,cartItems:a}=vt(),[l,c]=E.useState({fullName:"",email:"",phone:"",deliveryDate:"",deliveryTime:"",city:"",street:"",houseNumber:"",apartment:"",notes:"",paymentMethod:"cash"}),[u,d]=E.useState({}),[h,f]=E.useState([]),[v,w]=E.useState(!1),[y,x]=E.useState([]),[m,p]=E.useState([]),[,g]=E.useState(!0),[b,j]=E.useState(!1),[k,S]=E.useState(null);E.useEffect(()=>{async function _(){const P=await Gy();p(P),g(!1)}_()},[]);const C=_=>{c({...l,city:_,street:""}),f([])},$=async _=>{if(c({...l,street:_}),l.city&&_.length>=1){const P=await Qy(l.city,_);f(P)}else f([])},O=_=>{c({...l,street:_}),f([])},me=async()=>{const _={};return My(l.fullName)||(_.fullName=r("   ","Please enter full name")),Fy(l.email)||(_.email=r("   ","Invalid email address")),zy(l.phone)||(_.phone=r("   ","Invalid phone number")),l.deliveryDate?Wy(l.deliveryDate)||(new Date(l.deliveryDate).getDay()===6?_.deliveryDate=r("  ","No deliveries on Saturday"):_.deliveryDate=r("    ","Must order at least one day in advance")):_.deliveryDate=r("   ","Please select delivery date"),l.deliveryTime?By(l.deliveryTime,l.deliveryDate)||(new Date(l.deliveryDate).getDay()===5?_.deliveryTime=r("   : 13:00-15:00","Friday delivery: 13:00-15:00"):_.deliveryTime=r(" : 13:00-21:00","Delivery hours: 13:00-21:00")):_.deliveryTime=r("   ","Please select delivery time"),l.city||(_.city=r("  ","Please select city")),l.street?l.city&&(await Yy(l.city,l.street)||(_.street=r("   ","Address not in delivery area"))):_.street=r("  ","Please enter street"),l.houseNumber||(_.houseNumber=r("   ","Please enter house number")),d(_),Object.keys(_).length===0},it=async _=>{if(_.preventDefault(),!await me())return;const R={fullName:l.fullName,email:l.email,phone:l.phone,deliveryDate:l.deliveryDate,deliveryTime:l.deliveryTime,address:l.apartment?`${l.street} ${l.houseNumber},  ${l.apartment}`:`${l.street} ${l.houseNumber}`,city:l.city,street:l.street,houseNumber:l.houseNumber,apartment:l.apartment,floor:l.apartment,notes:l.notes,paymentMethod:l.paymentMethod};if(l.paymentMethod==="bit"||l.paymentMethod==="paybox"){S(R),j(!0);return}await bt(R)},wt=async()=>{j(!1),k&&(await bt(k),S(null))},bt=async _=>{w(!0);const P=setTimeout(()=>{w(!1),alert(r("   -   ","Request timed out - please try again"))},3e4);try{const R=s(),B=i(),Y=R+B,gn={formType:"Orders",timestamp:new Date().toISOString(),..._,cartItems:a,subtotal:R,shipping:B,total:Y},We=await fetch(Ft.MAKE_WEBHOOK_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(gn)});We.ok||console.warn("Warning: Make Webhook failed with status:",We.status,await We.text());const yn=await Xy(_,a,R,B,Y);clearTimeout(P),yn.success?(c({fullName:"",email:"",phone:"",deliveryDate:"",deliveryTime:"",city:"",street:"",houseNumber:"",apartment:"",notes:"",paymentMethod:"cash"}),d({}),w(!1),n(_)):(alert(yn.error||r("  ","Error submitting order")),w(!1))}catch(R){clearTimeout(P),console.error("Error submitting order:",R),alert(r("  ","Error submitting order")),w(!1)}};if(!t)return null;const Ie=s(),$e=i(),or=Ie+$e;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r(" ","Order Details")}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(yt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:it,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(Km,{className:"w-4 h-4"}),r(" ","Full Name")," *"]}),o.jsx("input",{type:"text",value:l.fullName,onChange:_=>c({...l,fullName:_.target.value}),className:`w-full px-4 py-2 border rounded-lg ${u.fullName?"border-red-500":"border-gray-300"}`,placeholder:r("  ","Enter full name")}),u.fullName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.fullName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(fi,{className:"w-4 h-4"}),r("","Email")," *"]}),o.jsx("input",{type:"email",value:l.email,onChange:_=>c({...l,email:_.target.value}),className:`w-full px-4 py-2 border rounded-lg ${u.email?"border-red-500":"border-gray-300"}`,placeholder:r("your@email.com","your@email.com")}),u.email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.email})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(Xr,{className:"w-4 h-4"}),r("","Phone")," *"]}),o.jsx("input",{type:"tel",value:l.phone,onChange:_=>c({...l,phone:_.target.value}),className:`w-full px-4 py-2 border rounded-lg ${u.phone?"border-red-500":"border-gray-300"}`,placeholder:r("050-1234567","050-1234567")}),u.phone&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.phone})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(Im,{className:"w-4 h-4"}),r(" ","Delivery Date")," *"]}),o.jsx("input",{type:"date",value:l.deliveryDate,onChange:_=>{const P=_.target.value;c({...l,deliveryDate:P,deliveryTime:""});const R=Hy(P);x(R)},className:`w-full px-4 py-2 border rounded-lg ${u.deliveryDate?"border-red-500":"border-gray-300"}`,min:qy()}),u.deliveryDate&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.deliveryDate})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(bl,{className:"w-4 h-4"}),r(" ","Delivery Time")," *"]}),o.jsxs("select",{value:l.deliveryTime,onChange:_=>c({...l,deliveryTime:_.target.value}),className:`w-full px-4 py-2 border rounded-lg ${u.deliveryTime?"border-red-500":"border-gray-300"}`,disabled:!l.deliveryDate,children:[o.jsx("option",{value:"",children:r(" ","Select Time")}),y.map(_=>o.jsx("option",{value:_,children:_},_))]}),u.deliveryTime&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.deliveryTime}),l.deliveryDate&&y.length===0&&o.jsx("p",{className:"text-amber-600 text-sm mt-1",children:r("   ","No deliveries on this date")})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[o.jsx(jl,{className:"w-4 h-4"}),r("","City")," *"]}),o.jsxs("select",{value:l.city,onChange:_=>C(_.target.value),className:`w-full px-4 py-2 border rounded-lg ${u.city?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:r(" ","Select City")}),m.map(_=>o.jsx("option",{value:_,children:_},_))]}),u.city&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.city})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"md:col-span-2 relative",children:[o.jsxs("label",{className:"text-sm font-semibold mb-2 block",children:[r("","Street")," *"]}),o.jsx("input",{type:"text",value:l.street,onChange:_=>$(_.target.value),className:`w-full px-4 py-2 border rounded-lg ${u.street?"border-red-500":"border-gray-300"}`,placeholder:r("  ","Enter street name"),disabled:!l.city}),h.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:h.map((_,P)=>o.jsx("button",{type:"button",onClick:()=>O(_),className:"w-full px-4 py-2 text-right hover:bg-gray-100",children:_},P))}),u.street&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.street})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-semibold mb-2 block",children:[r(" ","House Number")," *"]}),o.jsx("input",{type:"text",value:l.houseNumber,onChange:_=>c({...l,houseNumber:_.target.value}),className:`w-full px-4 py-2 border rounded-lg ${u.houseNumber?"border-red-500":"border-gray-300"}`,placeholder:r("123","123")}),u.houseNumber&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.houseNumber})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold mb-2 block",children:r("","Apartment")}),o.jsx("input",{type:"text",value:l.apartment,onChange:_=>c({...l,apartment:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:r("/","Floor/Apt")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold mb-2 block",children:r(" ","Delivery Notes")}),o.jsx("textarea",{value:l.notes,onChange:_=>c({...l,notes:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:r(", ,  ...","Floor, apartment, additional notes...")})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold mb-3",children:[o.jsx(Um,{className:"w-4 h-4"}),r(" ","Payment Method")," *"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"payment",value:"cash",checked:l.paymentMethod==="cash",onChange:_=>c({...l,paymentMethod:_.target.value}),className:"w-4 h-4"}),o.jsx("span",{children:r("","Cash")})]}),o.jsxs("label",{className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"payment",value:"bit",checked:l.paymentMethod==="bit",onChange:_=>c({...l,paymentMethod:_.target.value}),className:"w-4 h-4"}),o.jsx("span",{children:"Bit"})]}),o.jsxs("label",{className:"flex items-center gap-3 p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"payment",value:"paybox",checked:l.paymentMethod==="paybox",onChange:_=>c({...l,paymentMethod:_.target.value}),className:"w-4 h-4"}),o.jsx("span",{children:"PayBox"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:r(" ","Subtotal")}),o.jsxs("span",{children:["",Ie.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:r("","Shipping")}),o.jsx("span",{className:$e===0?"text-green-600 font-semibold":"",children:$e===0?r("!","Free!"):`${$e.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[o.jsx("span",{children:r('" ',"Total")}),o.jsxs("span",{className:"text-chinese-red",children:["",or.toFixed(2)]})]})]}),o.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-chinese-red text-white rounded-lg font-semibold hover:bg-chinese-darkRed transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?r("...","Sending..."):r(" ","Confirm Order")})]})]})})}),o.jsx(tx,{isOpen:b,onClose:()=>{j(!1),S(null)},paymentMethod:l.paymentMethod==="bit"?"bit":"paybox",paymentLink:l.paymentMethod==="bit"?Zh(s()+i()):ef(),amount:s()+i(),onProceed:wt})]})}function rx({isOpen:t,orderDetails:e,totalAmount:n,cartItems:r,onClose:s}){const{t:i,language:a}=ae(),{clearCart:l,cartItems:c}=vt();if(E.useEffect(()=>{t&&l()},[t]),!t)return null;const u=r||c,h=`https://api.whatsapp.com/send?phone=972525201978&text=${(()=>{const y=u.map(g=>{let j=`${a==="he"?g.menuItem.name_he:g.menuItem.name_en} x${g.quantity}`;if(g.selectedAddOns&&g.selectedAddOns.length>0){const k=g.selectedAddOns.map(S=>a==="he"?S.name_he:S.name_en).join(", ");j+=` (${k})`}return j}).join(`
`),x=e.paymentMethod==="cash"?a==="he"?"":"Cash":e.paymentMethod==="bit"?"Bit":"PayBox",m=e.deliveryDate&&e.deliveryTime?`${e.deliveryDate} ${e.deliveryTime}`:e.deliveryTime||e.deliveryDate||"",p=a==="he"?`   -Lulu Kitchen

 : ${e.fullName}
 : ${e.phone}
 : ${e.address}, ${e.city}
  : ${m}
 : ${x}

 :
${y}

 " : ${n}

${e.notes?` : ${e.notes}`:""}`:` New Order from Lulu Kitchen

 Name: ${e.fullName}
 Phone: ${e.phone}
 Address: ${e.address}, ${e.city}
 Delivery: ${m}
 Payment: ${x}

 Items:
${y}

 Total: ${n}

${e.notes?` Notes: ${e.notes}`:""}`;return encodeURIComponent(p)})()}`,f=()=>{const y=Zh();window.open(y,"_blank")},v=()=>{const y=ef();window.open(y,"_blank")},w=()=>{l(),s()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:s}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8 text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(jh,{className:"w-20 h-20 text-green-500"})}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:i("  !","Order Received Successfully!")}),o.jsxs("div",{className:"text-right bg-gray-50 rounded-lg p-4 mb-6 space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:i(":","Name:")})," ",e.fullName]}),o.jsxs("p",{children:[o.jsx("strong",{children:i(" :","Delivery Date:")})," ",e.deliveryDate]}),o.jsxs("p",{children:[o.jsx("strong",{children:i(" :","Delivery Time:")})," ",e.deliveryTime]}),o.jsxs("p",{children:[o.jsx("strong",{children:i(":","Address:")})," ",e.address,", ",e.city]}),o.jsxs("p",{children:[o.jsx("strong",{children:i(" :","Payment Method:")})," ",e.paymentMethod==="cash"?i("","Cash"):e.paymentMethod==="bit"?"Bit":"PayBox"]})]}),e.paymentMethod==="cash"&&o.jsx("p",{className:"text-gray-600 mb-6",children:i("   .      .   !","Cash payment upon delivery. Confirmation will be sent to your email and phone. Thank you!")}),e.paymentMethod==="bit"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:i(" :","Amount to pay:")}),o.jsxs("p",{className:"text-3xl font-bold text-blue-900 mb-3",children:["",n.toFixed(2)]}),o.jsx("p",{className:"text-blue-800 text-sm",children:i("     Bit     ","Click the button below and the Bit app will open with the amount filled automatically")})]}),o.jsxs("button",{onClick:f,className:"w-full py-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors mb-3 flex items-center justify-center gap-2",children:[o.jsx(ma,{className:"w-5 h-5"}),i(" Bit ","Open Bit to Pay")]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:i("  ,     .   !","After completing the payment, confirmation will be sent. Thank you!")})]}),e.paymentMethod==="paybox"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-purple-900 font-semibold mb-2",children:i(" :","Amount to pay:")}),o.jsxs("p",{className:"text-3xl font-bold text-purple-900 mb-3",children:["",n.toFixed(2)]}),o.jsx("p",{className:"text-purple-800 text-sm",children:i("        PayBox","Click the button below and you will be redirected to PayBox payment page")})]}),o.jsxs("button",{onClick:v,className:"w-full py-4 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors mb-3 flex items-center justify-center gap-2",children:[o.jsx(ma,{className:"w-5 h-5"}),i(" PayBox ","Open PayBox to Pay")]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:i("  ,     .   !","After completing the payment, confirmation will be sent. Thank you!")})]}),o.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 mb-3",children:[o.jsx(Yr,{className:"w-5 h-5"}),i("   ","Send Order via WhatsApp")]}),o.jsx("button",{onClick:w,className:"w-full py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:i("","Close")})]})})})]})}function sx({onViewCart:t}){const{t:e}=ae(),{cartItems:n,getTotalPrice:r,getShippingCost:s}=vt(),[i,a]=E.useState(!1),[l,c]=E.useState(!1);E.useEffect(()=>{const y=x=>{x.clientY<=0&&!l&&n.length>0&&!i&&(a(!0),c(!0))};return document.addEventListener("mouseleave",y),()=>{document.removeEventListener("mouseleave",y)}},[n.length,l,i]);const u=()=>{a(!1)},d=()=>{a(!1),t()};if(!i||n.length===0)return null;const h=r(),f=s(),v=h+f,w=800-h;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60]",onClick:u}),o.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl shadow-2xl z-[70] w-full max-w-md p-6",children:[o.jsx("button",{onClick:u,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full",children:o.jsx(yt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(qn,{className:"w-16 h-16 text-chinese-red mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:e(",    !","Wait! Don't forget your order!")}),o.jsx("p",{className:"text-gray-600",children:e("   .    !","You have items in your cart. Complete your order now!")})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-600",children:e(" ","Items in cart")}),o.jsx("span",{className:"font-semibold",children:n.length})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-600",children:e("","Subtotal")}),o.jsxs("span",{className:"font-semibold",children:["",h.toFixed(2)]})]}),w>0&&o.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-center",children:o.jsx("p",{className:"text-sm text-green-800",children:e(`  ${w.toFixed(2)}  !`,`Add ${w.toFixed(2)} more for free shipping!`)})}),o.jsxs("div",{className:"flex justify-between text-lg font-bold mt-3 pt-3 border-t",children:[o.jsx("span",{children:e('"',"Total")}),o.jsxs("span",{className:"text-chinese-red",children:["",v.toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:d,className:"w-full py-3 bg-chinese-red text-white rounded-lg font-semibold hover:bg-chinese-darkRed transition-colors",children:e("   ","View Cart & Complete Order")}),o.jsx("button",{onClick:u,className:"w-full py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:e(" ","Continue Browsing")})]})]})]})}function ix(){const{t,language:e}=ae(),[n,r]=E.useState([]),[s,i]=E.useState(!0);E.useEffect(()=>{a()},[]);async function a(){try{const{data:c,error:u}=await V.from("recommendations").select("*").eq("approved",!0).eq("featured",!0).order("created_at",{ascending:!1}).limit(4);if(u)throw u;c&&c.length>0?r(c):r([])}catch(c){console.error("Error fetching featured reviews:",c),r([])}finally{i(!1)}}const l=[{icon:Lm,titleHe:" ",titleEn:"Fresh Food",descHe:"     ",descEn:"Every dish prepared fresh when ordered"},{icon:dt,titleHe:"",titleEn:"Authentic",descHe:"    ",descEn:"Traditional recipes passed down through generations"},{icon:Vm,titleHe:"",titleEn:"Delivery",descHe:"  ",descEn:"Delivery to Jerusalem and surrounding areas"}];return o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("section",{className:"relative bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black text-white overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 chinese-pattern opacity-10"}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-8 text-center lg:text-right",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold leading-tight",children:t("     ","Welcome to Lulu's Chinese Kitchen")}),o.jsx("p",{className:"text-xl md:text-2xl text-chinese-lightGold",children:t("      ","Authentic Chinese Food Made Fresh in Jerusalem Area")}),o.jsx("p",{className:"text-lg leading-relaxed opacity-90",children:t("     ,        .           ,      ","Here you will find traditional and beloved Chinese dishes, prepared daily with the freshest and highest quality ingredients. We bring the aromas of China's home kitchen directly to your table, with attention to every detail and taste")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[o.jsx("a",{href:"/menu",className:"btn-secondary text-center",children:t(" ","Order Now")}),o.jsx("a",{href:"/menu",className:"btn-primary text-center",children:t(" ","View Menu")})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("img",{src:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",alt:"Chinese Food",className:"rounded-2xl shadow-2xl w-full h-96 object-cover"}),o.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-chinese-gold text-chinese-black p-4 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center rtl-space-x-2",children:[o.jsx(dt,{className:"w-6 h-6 fill-current"}),o.jsx("span",{className:"font-bold text-lg",children:"5.0"})]}),o.jsx("p",{className:"text-sm font-medium",children:t(" ","Excellent Rating")})]})]}),o.jsx("div",{className:"absolute top-4 left-4 bg-chinese-red text-white px-4 py-2 rounded-full font-semibold animate-bounce-gentle",children:t(" !","Fresh Daily!")})]})]})})]}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text mb-4",children:t("  ?","Why Choose Us?")}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t("      .    ","Authentic Chinese food made fresh when ordered. Better to order a day in advance")})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:l.map((c,u)=>{const d=c.icon;return o.jsxs("div",{className:"text-center p-8 bg-gradient-to-br from-white to-chinese-lightGold rounded-2xl shadow-lg card-hover",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-chinese-red text-white rounded-full mb-6",children:o.jsx(d,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-xl font-bold text-chinese-black mb-4",children:t(c.titleHe,c.titleEn)}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:t(c.descHe,c.descEn)})]},u)})})]})}),o.jsx("section",{className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text mb-4",children:t(" ","Customer Reviews")}),o.jsx("p",{className:"text-xl text-gray-600",children:t("    ","What our customers say about us")}),o.jsxs("div",{className:"flex items-center justify-center mt-4 rtl-space-x-2",children:[o.jsx("div",{className:"flex rtl-space-x-1",children:[...Array(5)].map((c,u)=>o.jsx(dt,{className:"w-8 h-8 text-chinese-gold fill-current"},u))}),o.jsx("span",{className:"text-2xl font-bold text-chinese-black",children:"5.0"}),o.jsx("span",{className:"text-gray-600",children:t(` ${n.length} `,`from ${n.length} reviews`)})]})]}),s?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t(" ...","Loading reviews...")})}):n.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t("   ","No featured reviews yet")})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(c=>o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg card-hover",children:[o.jsxs("div",{className:"flex items-center mb-4 rtl-space-x-2",children:[o.jsx("div",{className:"flex rtl-space-x-1",children:[...Array(5)].map((u,d)=>o.jsx(dt,{className:`w-5 h-5 ${d<c.rating?"text-chinese-gold fill-current":"text-gray-300"}`},d))}),o.jsxs("span",{className:"font-semibold text-chinese-black",children:[c.rating,"/5"]})]}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed text-right",children:e==="he"?c.comment||c.comment_en:c.comment_en||c.comment}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold text-chinese-red",children:c.customer_name}),o.jsx("span",{className:"text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString(e==="he"?"he-IL":"en-US")})]})]},c.id))})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-r from-chinese-red to-chinese-darkRed text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("    ?","Ready to Taste the Best?")}),o.jsx("p",{className:"text-xl max-w-3xl mx-auto",children:t("         ","Order now and enjoy authentic Chinese food made fresh especially for you")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx("a",{href:"/menu",className:"btn-secondary",children:t("  ","View Full Menu")}),o.jsx("a",{href:"/contact",className:"btn-primary",children:t(" ","Contact Us")})]})]})})}),o.jsx("section",{className:"py-20 bg-gradient-to-br from-chinese-red to-chinese-darkRed text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t(" ","Our Mission")}),o.jsx("p",{className:"text-xl max-w-4xl mx-auto leading-relaxed",children:t("           ,    ,   .           .","To bring the authentic flavors of traditional Chinese cuisine to every home in Jerusalem and surrounding areas, with emphasis on quality, freshness and excellent service. We believe that good food connects people and creates unforgettable memories.")})]})})})]})}async function ox(){const{data:t,error:e}=await V.from("menu_items").select("*").order("display_order",{ascending:!0});return e?(console.error("Error loading menu:",e),[]):(t||[]).map(n=>{var s;let r=[];if(n.tags)try{r=typeof n.tags=="string"?JSON.parse(n.tags):n.tags}catch{r=[]}return{id:n.id,name_he:n.name_he,name_en:n.name_en,description_he:n.description_he||"",description_en:n.description_en||"",price:n.price||0,category:((s=n.category_en)==null?void 0:s.toLowerCase())||"other",category_he:n.category_he||"",category_en:n.category_en||"",image_url:n.image_url||"",is_vegetarian:n.vegetarian===!0||n.vegetarian==="",is_vegan:n.vegan===!0||n.vegan==="",available:n.availability_status!==" ",sort_order:n.display_order||0,spice_level:n.spice_level||"",tags:r}})}async function ax(){try{const{data:t,error:e}=await V.from("addons").select("id, name_he, name_en, price");return e?(console.warn("Add-ons table query failed, using defaults:",e),_o()):!t||t.length===0?_o():t.map(n=>({id:String(n.id),name_he:n.name_he||"",name_en:n.name_en||"",price:Number(n.price)||0,available:!0,sort_order:0}))}catch(t){return console.error("Error fetching add-ons:",t),_o()}}function _o(){return[{id:"1",name_he:" ",name_en:"White Rice",price:5,available:!0,sort_order:1},{id:"2",name_he:" ",name_en:"Fried Rice",price:8,available:!0,sort_order:2},{id:"3",name_he:"",name_en:"Noodles",price:7,available:!0,sort_order:3},{id:"4",name_he:" ",name_en:"Spicy Sauce",price:3,available:!0,sort_order:4},{id:"5",name_he:" ",name_en:"Soy Sauce",price:2,available:!0,sort_order:5}]}function lx({item:t,isOpen:e,onClose:n}){var w;const{language:r,t:s}=ae(),{addToCart:i}=vt(),[a,l]=E.useState(1),[c,u]=E.useState(new Set);if(!e)return null;const d=y=>{const x=new Set(c);x.has(y)?x.delete(y):x.add(y),u(x)},h=()=>{var x;const y=((x=t.addOns)==null?void 0:x.filter(m=>c.has(m.id)))||[];i(t,y,a),n(),l(1),u(new Set)},f=((w=t.addOns)==null?void 0:w.filter(y=>c.has(y.id)).reduce((y,x)=>y+x.price,0))||0,v=(t.price+f)*a;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:n}),o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-2 sm:p-4",children:o.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"relative",children:[t.image_url&&o.jsx("div",{className:"h-48 sm:h-64 w-full overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:o.jsx("img",{src:t.image_url,alt:r==="he"?t.name_he:t.name_en,className:"w-full h-full object-cover"})}),o.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100",children:o.jsx(yt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:r==="he"?t.name_he:t.name_en}),o.jsx("p",{className:"text-gray-600 mb-4",children:r==="he"?t.description_he:t.description_en}),o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsxs("span",{className:"text-3xl font-bold text-chinese-red",children:["",t.price]}),t.portion_size&&o.jsxs("span",{className:"text-gray-500",children:["(",t.portion_size,")"]})]}),t.addOns&&t.addOns.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-3",children:s(" ","Available Add-ons")}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.addOns.map(y=>o.jsxs("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:c.has(y.id),onChange:()=>d(y.id),className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:r==="he"?y.name_he:y.name_en})]}),o.jsxs("span",{className:"font-semibold text-sm",children:["+",y.price]})]},y.id))})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("span",{className:"font-semibold",children:s("","Quantity")}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>l(Math.max(1,a-1)),className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:o.jsx(kl,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-xl font-bold w-12 text-center",children:a}),o.jsx("button",{onClick:()=>l(a+1),className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:o.jsx(Ii,{className:"w-5 h-5"})})]})]}),o.jsxs("button",{onClick:h,className:"w-full py-4 bg-chinese-red text-white rounded-lg font-semibold hover:bg-chinese-darkRed transition-colors flex items-center justify-center gap-2",children:[o.jsx(qn,{className:"w-5 h-5"}),s(" ","Add to Cart")," - ",v.toFixed(2)]})]})]})})})]})}function cx({onMenuItemsLoad:t}={}){const{language:e,t:n}=ae(),r=x=>({green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500",blue:"bg-blue-500",purple:"bg-purple-500",orange:"bg-orange-500"})[x]||"bg-gray-500",s=x=>({"top-left":"top-3 left-3","top-right":"top-3 right-3","bottom-left":"bottom-3 left-3","bottom-right":"bottom-3 right-3"})[x||"top-right"],[i,a]=E.useState([]),[l,c]=E.useState(!0),[u,d]=E.useState("all"),[h,f]=E.useState(null);E.useEffect(()=>{async function x(){try{const[m,p]=await Promise.all([ox(),ax()]),g=m.map(b=>({...b,addOns:p}));a(g),t&&t(g)}catch(m){console.error("Failed to load menu:",m)}finally{c(!1)}}x()},[]);const v=["all",...new Set(i.map(x=>x.category))],w=x=>{var p,g;const m={all:{he:"",en:"All"},dumplings:{he:"",en:"Dumplings"},"stir-fry":{he:"",en:"Stir-Fry"},sides:{he:"",en:"Sides"},salads:{he:"",en:"Salads"},soups:{he:"",en:"Soups"},pastries:{he:"",en:"Pastries"},appetizers:{he:" ",en:"Appetizers"},main:{he:" ",en:"Main Dishes"},desserts:{he:"",en:"Desserts"},drinks:{he:"",en:"Drinks"},other:{he:"",en:"Other"}};return e==="he"?((p=m[x])==null?void 0:p.he)||x:((g=m[x])==null?void 0:g.en)||x},y=u==="all"?i:i.filter(x=>x.category===u);return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n("","Menu")}),o.jsx("p",{className:"text-xl text-chinese-lightGold",children:n("          ","All our dishes are made fresh when ordered with the best ingredients")}),o.jsx("p",{className:"text-lg mt-4 opacity-90",children:n("      ","Click on a dish to select add-ons and add to cart")})]})}),o.jsx("section",{className:"py-12 bg-white sticky top-16 z-40 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:v.map(x=>o.jsx("button",{onClick:()=>d(x),className:`px-6 py-2 rounded-full font-semibold transition-all duration-200 ${u===x?"bg-chinese-red text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w(x)},x))})})}),o.jsx("section",{className:"py-16 bg-gray-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((x,m)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden animate-pulse",children:[o.jsx("div",{className:"h-48 bg-gray-200"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),o.jsx("div",{className:"mt-4 h-10 bg-gray-200 rounded"})]})]},m))}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(x=>o.jsxs("div",{onClick:()=>f(x),className:"bg-white rounded-2xl shadow-lg overflow-hidden card-hover cursor-pointer",children:[x.image_url&&o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx("img",{src:x.image_url,alt:e==="he"?x.name_he:x.name_en,className:"w-full h-full object-cover"}),(x.is_vegetarian||x.is_vegan)&&o.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[x.is_vegetarian&&o.jsxs("span",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Es,{className:"w-3 h-3"}),n("","Vegetarian")]}),x.is_vegan&&o.jsxs("span",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Es,{className:"w-3 h-3"}),n("","Vegan")]})]}),x.tags&&x.tags.length>0&&(()=>{const m={};return x.tags.forEach(p=>{const g=p.position||"top-right";m[g]||(m[g]=[]),m[g].push(p)}),Object.entries(m).map(([p,g])=>o.jsx("div",{className:`absolute ${s(p)} flex flex-col gap-2`,children:g.map((b,j)=>o.jsx("span",{className:`${r(b.color)} text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg`,children:e==="he"?b.text_he:b.text_en},j))},p))})()]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-chinese-black flex-1",children:e==="he"?x.name_he:x.name_en}),o.jsxs("span",{className:"text-2xl font-bold text-chinese-red whitespace-nowrap mr-3",children:["",x.price]})]}),!x.image_url&&(x.is_vegetarian||x.is_vegan)&&o.jsxs("div",{className:"flex gap-2 mb-3",children:[x.is_vegetarian&&o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Es,{className:"w-3 h-3"}),n("","Vegetarian")]}),x.is_vegan&&o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Es,{className:"w-3 h-3"}),n("","Vegan")]})]}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:e==="he"?x.description_he:x.description_en}),o.jsx("button",{className:"w-full bg-chinese-red text-white py-3 rounded-lg font-semibold hover:bg-chinese-darkRed transition-all duration-300 transform hover:scale-105",children:n("   ","Select Add-ons & Add to Cart")})]})]},x.id))})})}),h&&o.jsx(lx,{item:h,isOpen:!!h,onClose:()=>f(null)})]})}function ux(){const{t}=ae(),e=[{icon:Mm,titleHe:" ",titleEn:"Love for Cooking",descHe:"       ",descEn:"Every dish is prepared with love and attention to detail"},{icon:Gm,titleHe:" ",titleEn:"Family Tradition",descHe:"    ",descEn:"Recipes passed down through generations"},{icon:Rm,titleHe:" ",titleEn:"Excellent Quality",descHe:"    ",descEn:"Only the freshest and highest quality ingredients"},{icon:jh,titleHe:" ",titleEn:"Guaranteed Freshness",descHe:"    ",descEn:"Everything prepared fresh when ordered"}];return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t(" ","About Lulu")}),o.jsx("p",{className:"text-xl text-chinese-lightGold",children:t("      ","Our story and the journey that brought us here")})]})}),o.jsx("section",{className:"py-16 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text",children:t("  ","Lulu's Story")}),o.jsxs("div",{className:"space-y-4 text-lg text-gray-700 leading-relaxed",children:[o.jsx("p",{children:t("   ","Lulu is Israeli, born in China")}),o.jsx("p",{children:t("     ","She received her love for cooking from her grandmother and father")}),o.jsx("p",{children:t("    ","Recipes passed down through the family from generation to generation")}),o.jsx("p",{children:t("            .      ,    ,      ","We believe that the secret to a perfect Chinese dish lies in fresh ingredients and traditional cooking methods. Every dish is prepared in our home kitchen, with love and attention to hygiene, just like they would prepare at home in China")})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",alt:"Lulu cooking",className:"rounded-2xl shadow-2xl w-full h-96 object-cover"}),o.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-chinese-gold text-chinese-black p-6 rounded-xl shadow-lg",children:[o.jsx("div",{className:"text-4xl font-bold mb-2",children:"15+"}),o.jsx("p",{className:"text-sm font-semibold",children:t(" ","Years Experience")}),o.jsx("p",{className:"text-xs",children:t(" ","True Tradition")})]})]})]})})}),o.jsx("section",{className:"py-16 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"text-center mb-12",children:o.jsx("h2",{className:"text-3xl md:text-4xl font-bold gradient-text mb-4",children:t(" ","Our Values")})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((n,r)=>{const s=n.icon;return o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg text-center card-hover",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-chinese-red text-white rounded-full mb-4",children:o.jsx(s,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-xl font-bold text-chinese-black mb-3",children:t(n.titleHe,n.titleEn)}),o.jsx("p",{className:"text-gray-600",children:t(n.descHe,n.descEn)})]},r)})})]})}),o.jsx("section",{className:"py-16 bg-gradient-to-br from-chinese-red to-chinese-darkRed text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t(" ","Our Mission")}),o.jsx("p",{className:"text-xl max-w-4xl mx-auto leading-relaxed",children:t("           ,    ,   .           .","To bring the authentic flavors of traditional Chinese cuisine to every home in Jerusalem and surrounding areas, with emphasis on quality, freshness and excellent service. We believe that good food connects people and creates unforgettable memories.")})]})})})]})}const dx=["text-red-600","text-orange-600","text-yellow-600","text-pink-600","text-rose-600","text-amber-600"];function tf({text:t,colors:e=dx}){return o.jsx(o.Fragment,{children:t.split("").map((n,r)=>o.jsx("span",{className:e[r%e.length],children:n},r))})}function hx(){const{t,language:e}=ae(),[n,r]=E.useState({name:"",email:"",rating:5,reviewHe:"",reviewEn:""}),[s,i]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState([]),[d,h]=E.useState(!0);E.useEffect(()=>{f()},[]);async function f(){try{const{data:y,error:x}=await V.from("recommendations").select("customer_name, rating, comment, comment_en, created_at").eq("approved",!0).order("created_at",{ascending:!1});if(x)throw x;u(y||[])}catch(y){console.error("Error fetching reviews:",y)}finally{h(!1)}}const v=async y=>{y.preventDefault(),l(!0);try{const x=await ex(n.name,n.email,n.rating,n.reviewHe,n.reviewEn);x.success?(i(!0),r({name:"",email:"",rating:5,reviewHe:"",reviewEn:""})):alert(x.error||t(" ","Error submitting review"))}catch(x){console.error("Error submitting review:",x),alert(t(" ","Error submitting review"))}finally{l(!1)}},w=c.length>0?c.reduce((y,x)=>y+x.rating,0)/c.length:0;return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t("","Reviews")}),o.jsx("p",{className:"text-xl text-chinese-lightGold",children:t("          ","Read what our customers say and share your experience too")})]})}),o.jsx("section",{className:"py-16 bg-gray-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-8 text-center",children:o.jsx(tf,{text:t(" ","Add a Review")})}),s?o.jsxs("div",{className:"bg-green-50 border-2 border-green-500 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"text-green-600 text-5xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-2",children:t(" !","Thank you!")}),o.jsx("p",{className:"text-gray-700",children:t("     ","Your review has been received and will be published after approval")}),o.jsx("button",{onClick:()=>i(!1),className:"mt-6 px-6 py-2 bg-chinese-red text-white rounded-lg hover:bg-chinese-darkRed transition-colors",children:t("  ","Add Another Review")})]}):o.jsxs("form",{onSubmit:v,className:"bg-white rounded-2xl shadow-lg p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t(" ","Full Name")," *"]}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:y=>r({...n,name:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:t("  ","Enter your name")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t(" ( )","Email (not published)")}),o.jsx("input",{type:"email",value:n.email,onChange:y=>r({...n,email:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:"your@email.com"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("","Rating")," *"]}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(y=>o.jsx("button",{type:"button",onClick:()=>r({...n,rating:y}),className:"focus:outline-none",children:o.jsx(dt,{className:`w-10 h-10 ${y<=n.rating?"text-chinese-gold fill-current":"text-gray-300"} transition-colors`})},y))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("  ()","Your Review (Hebrew)")," *"]}),o.jsx("textarea",{required:!0,rows:4,value:n.reviewHe,onChange:y=>r({...n,reviewHe:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:t("    ...","Tell us about your experience...")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("  ()","Your Review (English) (Optional)")}),o.jsx("textarea",{rows:4,value:n.reviewEn,onChange:y=>r({...n,reviewEn:y.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:"Tell us about your experience..."})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-chinese-red text-white py-4 rounded-lg font-semibold hover:bg-chinese-darkRed transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?t("...","Submitting..."):t(" ","Submit Review")}),o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["* ",t("    ","Review will be published after admin approval")]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-8 text-center gradient-text",children:t(" ","Customer Reviews")}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"flex items-center justify-center rtl-space-x-2 mb-4",children:o.jsx("div",{className:"flex rtl-space-x-1",children:[...Array(5)].map((y,x)=>o.jsx(dt,{className:`w-10 h-10 ${x<Math.round(w)?"text-chinese-gold fill-current":"text-gray-300"}`},x))})}),o.jsx("div",{className:"text-5xl font-bold text-chinese-black mb-2",children:w.toFixed(1)}),o.jsx("p",{className:"text-xl text-gray-600",children:t(` ${c.length} `,`from ${c.length} reviews`)})]}),o.jsx("div",{className:"space-y-6 max-h-[800px] overflow-y-auto pr-4",children:d?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t(" ...","Loading reviews...")})}):c.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:t("  ","No reviews yet")})}):c.map((y,x)=>o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg card-hover",children:[o.jsxs("div",{className:"flex items-center mb-4 rtl-space-x-2",children:[o.jsx("div",{className:"flex rtl-space-x-1",children:[...Array(5)].map((m,p)=>o.jsx(dt,{className:`w-5 h-5 ${p<y.rating?"text-chinese-gold fill-current":"text-gray-300"}`},p))}),o.jsxs("span",{className:"font-semibold text-chinese-black",children:[y.rating,"/5"]})]}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed text-right",children:e==="he"?y.comment||y.comment_en:y.comment_en||y.comment}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold text-chinese-red",children:y.customer_name}),o.jsx("span",{className:"text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString(e==="he"?"he-IL":"en-US")})]})]},x))})]})]})})})]})}function fx(){const{t}=ae(),[e,n]=E.useState({name:"",phone:"",email:"",preferredDate:"",preferredTime:"",message:""}),[r,s]=E.useState(!1),[i,a]=E.useState(!1),l="052-520-1978",c="972525201978",u="lulu.kitchen.il@gmail.com",d=async h=>{h.preventDefault(),a(!0);try{const f=await Zy({name:e.name,phone:e.phone,email:e.email,preferred_date:e.preferredDate,preferred_time:e.preferredTime,message:e.message});f.success?(s(!0),n({name:"",phone:"",email:"",preferredDate:"",preferredTime:"",message:""})):alert(f.error||t(" ","Error sending message"))}catch(f){console.error("Error submitting contact form:",f),alert(t(" ","Error sending message"))}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t(" ","Contact Us")}),o.jsx("p",{className:"text-xl text-chinese-lightGold",children:t("        ","We'd love to hear from you and help with any question or order")})]})}),o.jsx("section",{className:"py-16 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl font-bold gradient-text",children:t(" ","Contact Details")}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-white to-chinese-lightGold p-6 rounded-2xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(Xr,{className:"w-6 h-6 text-chinese-red ml-3"}),o.jsx("h3",{className:"text-xl font-bold text-chinese-black",children:t("","Phone")})]}),o.jsx("p",{className:"text-lg mb-2",children:l}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t(" '-' 10:00-22:00","Available Sun-Thu 10:00-22:00")}),o.jsx("a",{href:`tel:${l}`,className:"inline-block bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105",children:t("","Call")})]}),o.jsxs("div",{className:"bg-gradient-to-br from-white to-chinese-lightGold p-6 rounded-2xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(fi,{className:"w-6 h-6 text-chinese-red ml-3"}),o.jsx("h3",{className:"text-xl font-bold text-chinese-black",children:t("","Email")})]}),o.jsx("p",{className:"text-lg mb-2",children:u}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("  24 ","Response within 24 hours")}),o.jsx("a",{href:`mailto:${u}`,className:"inline-block bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105",children:t(" ","Send Email")})]}),o.jsxs("div",{className:"bg-gradient-to-br from-white to-chinese-lightGold p-6 rounded-2xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(Yr,{className:"w-6 h-6 text-chinese-red ml-3"}),o.jsx("h3",{className:"text-xl font-bold text-chinese-black",children:t("","WhatsApp")})]}),o.jsx("p",{className:"text-lg mb-2",children:l}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t("  ","Fast and convenient response")}),o.jsx("a",{href:`https://api.whatsapp.com/send?phone=${c}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105",children:t("","WhatsApp")})]}),o.jsx("div",{className:"bg-gradient-to-br from-white to-chinese-lightGold p-6 rounded-2xl shadow-lg",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(jl,{className:"w-6 h-6 text-chinese-red ml-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-chinese-black",children:t(" ","Delivery Area")}),o.jsx("p",{className:"text-gray-700",children:t(" ","Jerusalem and surroundings")}),o.jsx("p",{className:"text-sm text-gray-600",children:t("   800","Free delivery over 800")})]})]}),o.jsxs("div",{className:"flex items-center pt-3 border-t border-gray-200",children:[o.jsx(bl,{className:"w-6 h-6 text-chinese-red ml-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-chinese-black",children:t(" ","Delivery Hours")}),o.jsx("p",{className:"text-gray-700",children:t("'-': 13:00-21:00","Sun-Thu: 13:00-21:00")}),o.jsx("p",{className:"text-gray-700",children:t("': 13:00-15:00","Fri: 13:00-15:00")}),o.jsx("p",{className:"text-gray-700",children:t("': ","Sat: Closed")})]})]})]})})]}),o.jsxs("div",{className:"bg-gradient-to-r from-chinese-red to-chinese-darkRed text-white p-6 rounded-2xl shadow-lg",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:t("  ","Quick Contact")}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("a",{href:`tel:${l}`,className:"flex-1 min-w-[140px] bg-white text-chinese-red px-4 py-3 rounded-lg font-semibold text-center hover:bg-gray-100 transition-all duration-200 flex items-center justify-center gap-2",children:[o.jsx(Xr,{className:"w-5 h-5"}),t(" ","Call Now")]}),o.jsxs("a",{href:`https://api.whatsapp.com/send?phone=${c}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[140px] bg-green-600 text-white px-4 py-3 rounded-lg font-semibold text-center hover:bg-green-700 transition-all duration-200 flex items-center justify-center gap-2",children:[o.jsx(Yr,{className:"w-5 h-5"}),t("","WhatsApp")]}),o.jsxs("a",{href:`mailto:${u}`,className:"flex-1 min-w-[140px] bg-blue-600 text-white px-4 py-3 rounded-lg font-semibold text-center hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:[o.jsx(fi,{className:"w-5 h-5"}),t(" ","Send Email")]})]})]}),o.jsxs("div",{className:"bg-chinese-lightGold p-6 rounded-2xl border-2 border-chinese-gold",children:[o.jsx("h3",{className:"text-xl font-bold text-chinese-black mb-2",children:t(" ","Order in Advance")}),o.jsx("p",{className:"text-gray-700",children:t("               ","Better to order a day in advance as it takes time to prepare the food because everything is made fresh at the time of order")})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-center",children:o.jsx(tf,{text:t("  ","Send us a Message")})}),r?o.jsxs("div",{className:"bg-green-50 border-2 border-green-500 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"text-green-600 text-5xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-2",children:t(" !","Thank you!")}),o.jsx("p",{className:"text-gray-700",children:t("    ","Your message has been received and we will get back to you soon")})]}):o.jsxs("form",{onSubmit:d,className:"bg-white rounded-2xl shadow-lg p-8 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t(" ","Full Name")," *"]}),o.jsx("input",{type:"text",required:!0,value:e.name,onChange:h=>n({...e,name:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:t("   ","Enter your full name")})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("","Phone")," *"]}),o.jsx("input",{type:"tel",required:!0,value:e.phone,onChange:h=>n({...e,phone:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:"050-123-4567"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("","Email")}),o.jsx("input",{type:"email",value:e.email,onChange:h=>n({...e,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:"your@email.com"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("  ","Preferred Order Date")}),o.jsx("input",{type:"date",value:e.preferredDate,onChange:h=>n({...e,preferredDate:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t(" ","Preferred Time")}),o.jsx("input",{type:"time",value:e.preferredTime,onChange:h=>n({...e,preferredTime:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("","Message")," *"]}),o.jsx("textarea",{required:!0,rows:6,value:e.message,onChange:h=>n({...e,message:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:t("    ,      ...","Tell us about your order, special preferences or any other question...")})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full bg-chinese-red text-white py-4 rounded-lg font-semibold hover:bg-chinese-darkRed transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:i?t("...","Sending..."):t(" ","Send Message")})]})]})]})})})]})}function px(){const{language:t,t:e}=ae();return t==="he"?o.jsxs("main",{className:"container mx-auto py-12 px-4 max-w-4xl text-right",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8 text-chinese-red",children:" "}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:" "}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:' " -  "       (" 5568)  AA   WCAG 2.1   W3C.         ,   ,  .'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"  "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"   -       "}),o.jsx("li",{children:"   -      "}),o.jsx("li",{children:"  -    WCAG 2.1  AA"}),o.jsx("li",{children:"   -    "}),o.jsx("li",{children:" - -    "}),o.jsx("li",{children:"  -      "})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:" "}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"     :"}),o.jsxs("ul",{className:"list-disc pr-6 space-y-1 text-gray-700",children:[o.jsx("li",{children:"Google Chrome ( )"}),o.jsx("li",{children:"Mozilla Firefox ( )"}),o.jsx("li",{children:"Microsoft Edge ( )"}),o.jsx("li",{children:"Safari ( )"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"  "}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"             :"}),o.jsxs("div",{className:"bg-chinese-lightGold p-6 rounded-lg space-y-2",children:[o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:":"})," lulu@lulu-k.com"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:":"})," 052-520-1978"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"WhatsApp:"})," 052-520-1978"]})]}),o.jsx("p",{className:"text-gray-600 mt-4 text-sm",children:"      7             ."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:" "}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["  : ",o.jsx("br",{}),": lulu@lulu-k.com",o.jsx("br",{}),": 052-520-1978"]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:o.jsx("p",{className:"text-sm text-gray-500",children:"     :  2025"})})]})]}):o.jsxs("main",{className:"container mx-auto py-12 px-4 max-w-4xl text-left",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8 text-chinese-red",children:"Accessibility Statement"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"Commitment to Accessibility"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'"Lulu - The Chinese Kitchen" website complies with Israeli Standard 5568 and WCAG 2.1 Level AA accessibility guidelines. The site is designed to be accessible to all users, including those with disabilities, and supports keyboard navigation, contrast adjustments, and text resizing.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"Accessibility Features"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Keyboard navigation - All site content accessible via keyboard only"}),o.jsx("li",{children:"Screen reader support - Compatible with leading screen reader software"}),o.jsx("li",{children:"Color contrast - Meets WCAG 2.1 Level AA requirements"}),o.jsx("li",{children:"Clear, readable fonts - Text is clear and resizable"}),o.jsx("li",{children:"Bilingual support - Site available in Hebrew and English"}),o.jsx("li",{children:"Structured headings - Clear heading hierarchy for easy navigation"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"Browser Compatibility"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"The site has been tested and is compatible with the following browsers:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-gray-700",children:[o.jsx("li",{children:"Google Chrome (current version)"}),o.jsx("li",{children:"Mozilla Firefox (current version)"}),o.jsx("li",{children:"Microsoft Edge (current version)"}),o.jsx("li",{children:"Safari (current version)"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"Accessibility Feedback"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you encounter any accessibility issue or have suggestions for improvement, please contact us:"}),o.jsxs("div",{className:"bg-chinese-lightGold p-6 rounded-lg space-y-2",children:[o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"Email:"})," lulu@lulu-k.com"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"Phone:"})," +972-52-520-1978"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"WhatsApp:"})," +972-52-520-1978"]})]}),o.jsx("p",{className:"text-gray-600 mt-4 text-sm",children:"We commit to addressing all inquiries within 7 business days and making every effort to continuously improve the site's accessibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"Accessibility Coordinator"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Site Accessibility Coordinator: Lulu",o.jsx("br",{}),"Email: lulu@lulu-k.com",o.jsx("br",{}),"Phone: +972-52-520-1978"]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:o.jsx("p",{className:"text-sm text-gray-500",children:"This accessibility statement was last updated: November 2025"})})]})]})}function mx(){const{language:t}=ae();return t==="he"?o.jsxs("main",{className:"container mx-auto py-12 px-4 max-w-4xl text-right",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8 text-chinese-red",children:" "}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"1. "}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:' " -  " (: "")          .          .'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"2.  "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"        WhatsApp : 052-520-1978"}),o.jsx("li",{children:"        "}),o.jsx("li",{children:"         "}),o.jsx("li",{children:"           "})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"3. "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"     (Bit)   (Paybox) "}),o.jsx("li",{children:'    "  (17%)'}),o.jsx("li",{children:"          "}),o.jsx("li",{children:"      "})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"4. "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"     "}),o.jsx("li",{children:"       "}),o.jsx("li",{children:"       "}),o.jsx("li",{children:"   ,      052-520-1978"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"5.  "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"    4     "}),o.jsx("li",{children:"          "}),o.jsx("li",{children:"    ,      "}),o.jsx("li",{children:"         "})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"6.  "}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'        " ".       .'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"7.   "}),o.jsxs("ul",{className:"list-disc pr-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"         "}),o.jsx("li",{children:"       "}),o.jsx("li",{children:"       "}),o.jsx("li",{children:"         "})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"8.  "}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'  ,  , ,   ,     " -  "   .  ,        .'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"9.  "}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"         .        .        ."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"10.  "}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:" ,   ,   :"}),o.jsxs("div",{className:"bg-chinese-lightGold p-6 rounded-lg space-y-2",children:[o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:":"})," lulu@lulu-k.com"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:":"})," 052-520-1978"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"WhatsApp:"})," 052-520-1978"]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:o.jsx("p",{className:"text-sm text-gray-500",children:"    :  2025"})})]})]}):o.jsxs("main",{className:"container mx-auto py-12 px-4 max-w-4xl text-left",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8 text-chinese-red",children:"Website Terms of Use"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"1. General"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'The "Lulu - The Chinese Kitchen" website (hereinafter: "the Site") is intended for customers wishing to order authentic Asian dishes. Using this website constitutes full and unconditional acceptance of the terms detailed below.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"2. Placing Orders"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Orders placed on the site require final confirmation via phone or WhatsApp at: +972-52-520-1978"}),o.jsx("li",{children:"It's preferable to order a day in advance to ensure availability and freshness"}),o.jsx("li",{children:"An order is considered confirmed only after receiving explicit approval from a business representative"}),o.jsx("li",{children:"The site reserves the right to refuse or cancel any order for any reason"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"3. Payment"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Payment can be made via Bit or PayBox only"}),o.jsx("li",{children:"All prices on the site include VAT as required by law (17%)"}),o.jsx("li",{children:"Delivery fees are determined by delivery area and will be communicated when confirming the order"}),o.jsx("li",{children:"Payment is processed after order confirmation and before delivery"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"4. Delivery"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Deliveries are made to Jerusalem and surrounding areas only"}),o.jsx("li",{children:"Delivery times will be coordinated with the customer when confirming the order"}),o.jsx("li",{children:"The site is not responsible for delays caused by circumstances beyond its control"}),o.jsx("li",{children:"In case of delivery issues, please contact us immediately at +972-52-520-1978"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"5. Cancellations and Returns"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Orders can be cancelled up to 4 hours before the scheduled preparation time"}),o.jsx("li",{children:"Cancellation after this time may result in partial charges due to food preparation having started"}),o.jsx("li",{children:"In case of food quality issues, please contact us immediately for a solution"}),o.jsx("li",{children:"Refunds are provided in justified cases only at the business's discretion"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"6. Business Hours"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Service is provided according to business hours published on the site and "Contact" page. Business hours may change during holidays and special occasions.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"7. Privacy and Data Security"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[o.jsx("li",{children:"Personal information provided by customers is stored in secure databases"}),o.jsx("li",{children:"Information is used solely for order processing and service improvement"}),o.jsx("li",{children:"We will not transfer information to third parties without explicit consent"}),o.jsx("li",{children:"Customers are entitled to view their personal information and request corrections or deletion"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"8. Intellectual Property"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:'All content on the site, including texts, images, designs, and trademarks, is the exclusive property of "Lulu - The Chinese Kitchen" and protected by copyright. Content may not be copied, reproduced, or distributed without written permission.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"9. Terms Changes"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"The site reserves the right to modify these terms from time to time. Changes will be published on the site and take effect immediately upon publication. Continued use of the site after publication constitutes acceptance of the changes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-chinese-black",children:"10. Contact"}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"For any questions, requests, or complaints, please contact us:"}),o.jsxs("div",{className:"bg-chinese-lightGold p-6 rounded-lg space-y-2",children:[o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"Email:"})," lulu@lulu-k.com"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"Phone:"})," +972-52-520-1978"]}),o.jsxs("p",{className:"text-gray-800",children:[o.jsx("strong",{className:"text-chinese-red",children:"WhatsApp:"})," +972-52-520-1978"]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:o.jsx("p",{className:"text-sm text-gray-500",children:"These terms were last updated: November 2025"})})]})]})}const nf=E.createContext(void 0);function gx({children:t}){const[e,n]=E.useState(null),[r,s]=E.useState(!0);E.useEffect(()=>{V.auth.getSession().then(({data:{session:c}})=>{n((c==null?void 0:c.user)??null),s(!1)});const{data:{subscription:l}}=V.auth.onAuthStateChange((c,u)=>{n((u==null?void 0:u.user)??null)});return()=>l.unsubscribe()},[]);const i=async(l,c)=>{const{error:u}=await V.auth.signInWithPassword({email:l,password:c});return{error:u}},a=async()=>{await V.auth.signOut()};return o.jsx(nf.Provider,{value:{user:e,loading:r,signIn:i,signOut:a},children:t})}function Fi(){const t=E.useContext(nf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function yx(){const{signIn:t}=Fi(),[e,n]=E.useState(""),[r,s]=E.useState(""),[i,a]=E.useState(""),[l,c]=E.useState(!1),u=async d=>{d.preventDefault(),a(""),c(!0);const{error:h}=await t(e,r);h&&(a("   "),c(!1))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-chinese-red via-chinese-darkRed to-chinese-black flex items-center justify-center px-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-chinese-red rounded-full mb-4",children:o.jsx(Fm,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-chinese-black mb-2",children:" "}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),o.jsx("input",{type:"email",required:!0,value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:"admin@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),o.jsx("input",{type:"password",required:!0,value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-chinese-red",placeholder:""})]}),i&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-center",children:i}),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-chinese-red text-white py-3 rounded-lg font-semibold hover:bg-chinese-darkRed transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"...":""})]}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:o.jsx("p",{children:"   "})})]})})}function Pl({children:t}){const{user:e,loading:n}=Fi();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-2xl text-chinese-red",children:"..."})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(yx,{})}function xx(){const{signOut:t}=Fi(),[e,n]=E.useState([]),[r,s]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{s(!0);const{data:c,error:u}=await V.from("recommendations").select("*").order("created_at",{ascending:!1});u?console.error("Error fetching reviews:",u):n(c||[]),s(!1)},a=async(c,u)=>{const{error:d}=await V.from("recommendations").update({status:u}).eq("id",c);d?(alert("  "),console.error(d)):i()},l=async c=>{if(!confirm("      ?"))return;const{error:u}=await V.from("recommendations").delete().eq("id",c);u?(alert("  "),console.error(u)):i()};return o.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:" "}),o.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[o.jsx(_l,{className:"w-5 h-5"}),""]})]}),o.jsxs("p",{className:"text-gray-600 mt-2",children:['" ',e.length," "]})]}),r?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"..."})}):e.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"  "})}):o.jsx("div",{className:"space-y-4",children:e.map(c=>o.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-6 ${c.status==="approved"?"border-r-4 border-green-500":c.status==="rejected"?"border-r-4 border-red-500":"border-r-4 border-yellow-500"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:c.customer_name}),o.jsx("p",{className:"text-sm text-gray-600",children:c.email}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(c.created_at).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((u,d)=>o.jsx(dt,{className:`w-5 h-5 ${d<c.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},d))}),o.jsxs("span",{className:"text-lg font-bold",children:[c.rating,"/5"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:" :"}),o.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded",children:c.comment||""})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-semibold mb-2",children:" :"}),o.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded",children:c.comment_en||""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-semibold",children:":"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${c.status==="approved"?"bg-green-100 text-green-800":c.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status==="approved"?"":c.status==="rejected"?"":""})]}),o.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[c.status!=="approved"&&o.jsxs("button",{onClick:()=>a(c.id,"approved"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx($m,{className:"w-4 h-4"}),""]}),c.status!=="rejected"&&o.jsxs("button",{onClick:()=>a(c.id,"rejected"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[o.jsx(yt,{className:"w-4 h-4"}),""]}),o.jsxs("button",{onClick:()=>l(c.id),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors ml-auto",children:[o.jsx(Nl,{className:"w-4 h-4"}),""]})]})]},c.id))})]})})}function vx(){return o.jsx(Pl,{children:o.jsx(xx,{})})}function wx(){const{signOut:t}=Fi(),[e,n]=E.useState([]),[r,s]=E.useState(!0),[i,a]=E.useState(null),[l,c]=E.useState(!1),[u,d]=E.useState({name_he:"",name_en:"",price:0});E.useEffect(()=>{h()},[]);const h=async()=>{s(!0);const{data:m,error:p}=await V.from("addons").select("*").order("created_at",{ascending:!0});p?console.error("Error fetching add-ons:",p):n(m||[]),s(!1)},f=async()=>{if(!u.name_he||!u.name_en||u.price<=0){alert("    ");return}const{error:m}=await V.from("addons").insert([u]);m?(alert("  "),console.error(m)):(c(!1),d({name_he:"",name_en:"",price:0}),h())},v=async m=>{if(!u.name_he||!u.name_en||u.price<=0){alert("    ");return}const{error:p}=await V.from("addons").update(u).eq("id",m);p?(alert("  "),console.error(p)):(a(null),d({name_he:"",name_en:"",price:0}),h())},w=async m=>{if(!confirm("      ?"))return;const{error:p}=await V.from("addons").delete().eq("id",m);p?(alert("  "),console.error(p)):h()},y=m=>{a(m.id),d({name_he:m.name_he,name_en:m.name_en,price:m.price})},x=()=>{a(null),c(!1),d({name_he:"",name_en:"",price:0})};return o.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:" "}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(Ii,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[o.jsx(_l,{className:"w-5 h-5"}),""]})]})]}),o.jsxs("p",{className:"text-gray-600 mt-2",children:['" ',e.length," "]})]}),l&&o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4 border-2 border-green-500",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:" "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx("input",{type:"text",placeholder:" ",value:u.name_he,onChange:m=>d({...u,name_he:m.target.value}),className:"px-4 py-2 border rounded-lg"}),o.jsx("input",{type:"text",placeholder:"English Name",value:u.name_en,onChange:m=>d({...u,name_en:m.target.value}),className:"px-4 py-2 border rounded-lg"}),o.jsx("input",{type:"number",placeholder:"",value:u.price||"",onChange:m=>d({...u,price:Number(m.target.value)}),className:"px-4 py-2 border rounded-lg"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(zc,{className:"w-4 h-4"}),""]}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[o.jsx(yt,{className:"w-4 h-4"}),""]})]})]}),r?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"..."})}):e.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:o.jsx("p",{className:"text-gray-600",children:"  "})}):o.jsx("div",{className:"space-y-4",children:e.map(m=>o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:i===m.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx("input",{type:"text",value:u.name_he,onChange:p=>d({...u,name_he:p.target.value}),className:"px-4 py-2 border rounded-lg"}),o.jsx("input",{type:"text",value:u.name_en,onChange:p=>d({...u,name_en:p.target.value}),className:"px-4 py-2 border rounded-lg"}),o.jsx("input",{type:"number",value:u.price,onChange:p=>d({...u,price:Number(p.target.value)}),className:"px-4 py-2 border rounded-lg"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>v(m.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[o.jsx(zc,{className:"w-4 h-4"}),""]}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[o.jsx(yt,{className:"w-4 h-4"}),""]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:m.name_he}),o.jsx("p",{className:"text-gray-600",children:m.name_en})]}),o.jsxs("div",{className:"text-2xl font-bold text-chinese-red",children:["",m.price]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[o.jsxs("button",{onClick:()=>y(m),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[o.jsx(Bm,{className:"w-4 h-4"}),""]}),o.jsxs("button",{onClick:()=>w(m.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[o.jsx(Nl,{className:"w-4 h-4"}),""]})]})]})},m.id))})]})})}function bx(){return o.jsx(Pl,{children:o.jsx(wx,{})})}function _x(){const{language:t}=ae(),[e,n]=E.useState([]),[r,s]=E.useState(!0),[i,a]=E.useState("all"),l=t==="he";E.useEffect(()=>{c()},[]);async function c(){try{s(!0);const{data:f,error:v}=await V.from("recommendations").select("*").order("created_at",{ascending:!1});if(v)throw v;n(f||[])}catch(f){console.error("Error fetching recommendations:",f)}finally{s(!1)}}async function u(f,v){try{const{error:w}=await V.from("recommendations").update(v).eq("id",f);if(w)throw w;n(y=>y.map(x=>x.id===f?{...x,...v}:x))}catch(w){console.error("Error updating recommendation:",w),alert("  ")}}async function d(f){if(confirm("      ?"))try{const{error:v}=await V.from("recommendations").delete().eq("id",f);if(v)throw v;n(w=>w.filter(y=>y.id!==f))}catch(v){console.error("Error deleting recommendation:",v),alert("  ")}}const h=e.filter(f=>i==="pending"?!f.approved:i==="approved"?f.approved:!0);return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:" ..."})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-[#c41e3a]",children:l?"  ":"Manage Customer Reviews"}),o.jsxs("button",{onClick:()=>signOut(),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:[o.jsx(_l,{className:"w-5 h-5"}),l?"":"Logout"]})]}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsx("button",{onClick:()=>a("all"),className:`px-6 py-2 rounded-lg font-semibold transition ${i==="all"?"bg-[#c41e3a] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l?` (${e.length})`:`All (${e.length})`}),o.jsx("button",{onClick:()=>a("pending"),className:`px-6 py-2 rounded-lg font-semibold transition ${i==="pending"?"bg-[#c41e3a] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l?`  (${e.filter(f=>!f.approved).length})`:`Pending (${e.filter(f=>!f.approved).length})`}),o.jsx("button",{onClick:()=>a("approved"),className:`px-6 py-2 rounded-lg font-semibold transition ${i==="approved"?"bg-[#c41e3a] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l?` (${e.filter(f=>f.approved).length})`:`Approved (${e.filter(f=>f.approved).length})`})]}),h.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:l?"  ":"No reviews to display"}):o.jsx("div",{className:"space-y-6",children:h.map(f=>o.jsxs("div",{className:`border rounded-lg p-6 ${f.approved?"border-green-300 bg-green-50":"border-gray-300 bg-white"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f.customer_name}),o.jsx("p",{className:"text-sm text-gray-600",children:f.email}),o.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(f.created_at).toLocaleDateString("he-IL")," | ",new Date(f.created_at).toLocaleTimeString("he-IL")]}),o.jsx("span",{className:`inline-block mt-1 px-3 py-1 rounded-full text-xs font-semibold ${f.approved?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:f.approved?" ":"  "})]}),o.jsx("div",{className:"flex gap-2",children:[...Array(f.rating)].map((v,w)=>o.jsx("span",{className:"text-yellow-500 text-xl",children:""},w))})]}),o.jsxs("div",{className:"mb-4 space-y-2",children:[f.comment&&o.jsxs("div",{className:"bg-white p-4 rounded border",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1 font-semibold",children:":"}),o.jsx("p",{className:"text-gray-800",children:f.comment})]}),f.comment_en&&o.jsxs("div",{className:"bg-white p-4 rounded border",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1 font-semibold",children:"English:"}),o.jsx("p",{className:"text-gray-800",children:f.comment_en})]}),!f.comment&&!f.comment_en&&o.jsx("div",{className:"bg-gray-100 p-4 rounded border border-dashed",children:o.jsx("p",{className:"text-sm text-gray-500 italic",children:"  "})})]}),o.jsxs("div",{className:"flex gap-3 flex-wrap",children:[f.approved?o.jsx("button",{onClick:()=>u(f.id,{approved:!1}),className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition font-semibold",children:"  "}):o.jsx("button",{onClick:()=>u(f.id,{approved:!0}),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:"  "}),o.jsx("button",{onClick:()=>u(f.id,{featured:!f.featured}),className:`px-6 py-2 rounded-lg transition font-semibold ${f.featured?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:f.featured?"  ":"  "}),o.jsx("button",{onClick:()=>d(f.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold",children:" "})]}),f.approved&&o.jsx("div",{className:"mt-3 text-sm text-green-700 font-semibold",children:"    "}),f.featured&&f.approved&&o.jsx("div",{className:"mt-2 text-sm text-purple-700 font-semibold",children:"    "})]},f.id))})]}),o.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"   ?"}),o.jsxs("ul",{className:"space-y-2 text-blue-800",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"  :"}),"      "]}),o.jsxs("li",{children:[o.jsx("strong",{children:"  :"}),'     " "']}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),'  " "    ']}),o.jsxs("li",{children:[o.jsx("strong",{children:" Featured ( ):"}),"   -   "]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"      "]}),o.jsxs("li",{className:"mt-3 pt-3 border-t border-blue-300",children:[o.jsx("strong",{children:" :"}),"   ",o.jsx("u",{children:""}),"  .   ",o.jsx("u",{children:"featured"}),"   ."]})]})]})]})})}function jx(){return o.jsx(Pl,{children:o.jsx(_x,{})})}function kx(){const[t,e]=E.useState(window.location.pathname),[n,r]=E.useState(!1),[s,i]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState(null),[d,h]=E.useState(0),[f,v]=E.useState([]),{getTotalPrice:w,getShippingCost:y}=vt();E.useEffect(()=>{const j=()=>{e(window.location.pathname)};return window.addEventListener("popstate",j),document.addEventListener("click",k=>{const C=k.target.closest("a");C&&C.href&&C.host===window.location.host&&(k.preventDefault(),window.history.pushState({},"",C.href),e(C.pathname),window.scrollTo(0,0))}),()=>{window.removeEventListener("popstate",j)}},[]);const x=()=>{r(!1),i(!0)},m=j=>{const k=w(),S=y(),C=k+S;h(C),u(j),i(!1),l(!0)},p=()=>{l(!1),u(null)};let g,b={};switch(t){case"/menu":g=cx,b={onMenuItemsLoad:v};break;case"/about":g=ux;break;case"/reviews":g=hx;break;case"/contact":g=fx;break;case"/accessibility":g=px;break;case"/terms":g=mx;break;case"/admin/reviews":g=vx;break;case"/admin/addons":g=bx;break;case"/admin/recommendations":g=jx;break;default:g=ix}return o.jsxs(o.Fragment,{children:[o.jsx(Iy,{onCartClick:()=>r(!0)}),o.jsx("main",{children:o.jsx(g,{...b})}),o.jsx($y,{}),o.jsx(Dy,{isOpen:n,onClose:()=>r(!1),onCheckout:x,allMenuItems:f}),o.jsx(nx,{isOpen:s,onClose:()=>i(!1),onSubmit:m}),c&&o.jsx(rx,{isOpen:a,orderDetails:c,totalAmount:d,onClose:p}),o.jsx(sx,{onViewCart:()=>r(!0)})]})}function Nx(){return o.jsx(Jm,{children:o.jsx(Ry,{children:o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx(kx,{})})})})}_h(document.getElementById("root")).render(o.jsx(E.StrictMode,{children:o.jsx(gx,{children:o.jsx(Nx,{})})}));
